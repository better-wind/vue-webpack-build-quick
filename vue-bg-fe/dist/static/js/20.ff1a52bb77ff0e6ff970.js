webpackJsonp([20],{"3sl7":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"section-item section-item-no-padding"},[i("div",{staticClass:"menu pd-l pd-b"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.callBatchComplaint()}}},[e._v("批量申诉")])],1),e._v(" "),i("div",{staticClass:"result-view"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:e.tableList,"row-class-name":e.tableRowClassName},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center",width:"55",selectable:e.selectable}}),e._v(" "),e._l(e.currentSearch.resultItem.option,function(t,a){return["left"==t.fixed?[i("el-table-column",{attrs:{fixed:"",prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[i("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:{path:"orderDetail",query:{orderNumber:a.row[t.key],source:"search"}}}},[e._v("\n                "+e._s(a.row[t.key])+"\n              ")])]}}])})]:"right"==t.fixed?["opera"==t.type?i("el-table-column",{attrs:{fixed:"right",label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isAllowComplain?[-1==t.row.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.callComplaint(t.row.id,"edit")}}},[e._v("申诉")]):1==t.row.status&&0!=t.row.penaltyAmount?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.callComplaint(t.row.id,"edit")}}},[e._v("再次申诉")]):2==t.row.status&&1==t.row.complainCount?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.callComplaint(t.row.id,"edit")}}},[e._v("再次申诉")]):i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.callComplaint(t.row.id,"view")}}},[e._v("查看")])]:0==t.row.isAllowComplain?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){e.callComplaint(t.row.id,"view")}}},[e._v("查看")]):e._e()]}}])}):e._e()]:["time"==t.type?i("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[i("div",{staticClass:"time-item",staticStyle:{padding:"5px 20px"}},[e._v("\n                "+e._s(a.row[t.key])+"\n              ")])]}}])}):"status"==t.type?i("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[i("div",{staticClass:"time-item",staticStyle:{padding:"5px 20px"}},[e._v("\n                "+e._s(e.mapStatus[a.row[t.key]])+"\n              ")])]}}])}):i("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"}})]]})],2),e._v(" "),e.pagingShow?i("v-pagination",{attrs:{paging:e.paging}}):e._e()],1),e._v(" "),i("div",{staticClass:"dialog-view"},[i("el-dialog",{attrs:{visible:e.orderDetailDialog.isShow,size:"small"},on:{"update:visible":function(t){e.$set(e.orderDetailDialog,"isShow",t)},close:function(t){e.cancelComplaint()}}},[i("div",{staticClass:"section-title"},["batch"==e.orderDetailDialog.type?i("span",[e._v("发货超时批量申诉")]):i("span",[e._v("发货超时申诉")])]),e._v(" "),e.orderDetailDialog.viewReady?[i("div",{staticClass:"section-item"},[e._l(e.orderDetailConfig.items,function(t){return[i("div",{},[i("div",{staticClass:"section-item-sign"},[i("span",[e._v(e._s(t.label)+"：")])]),e._v(" "),"timeoutPeriod"==t.type?i("div",{staticClass:"inline-item"},[e._v("\n                "+e._s(e._f("toDate")(e.timeOutOrderDetail[t.key]))+"\n              ")]):i("div",{staticClass:"inline-item"},[e._v("\n                "+e._s(e.timeOutOrderDetail[t.key])+"\n              ")])])]})],2),e._v(" "),e._l(e.timeOutOrderDetail.complainList,function(t){return e.timeOutOrderDetail.complainList?[i("div",{staticClass:"section-item"},[i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[e._v("申诉原因：")])]),e._v(" "),i("div",{staticClass:"inline-item"},[e._v("\n                "+e._s(t.complainReason)+"\n              ")])]),e._v(" "),t.fileUrl?i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[e._v("附件：")])]),e._v(" "),i("div",{staticClass:"inline-item"},[i("a",{attrs:{href:t.fileUrl,target:"_blank"}},[e._v("查看附件")])])]):e._e(),e._v(" "),i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[e._v("申诉状态：")])]),e._v(" "),i("div",{staticClass:"inline-item"},[e._v("\n                "+e._s(e.mapStatus[t.status])+"\n              ")])]),e._v(" "),t.modifyPenaltyAmount?i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[e._v("修改后金额：")])]),e._v(" "),i("div",{staticClass:"inline-item"},[e._v("\n                "+e._s(t.modifyPenaltyAmount)+"\n              ")])]):e._e(),e._v(" "),i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[e._v("处理备注：")])]),e._v(" "),i("div",{staticClass:"inline-item"},[e._v("\n                "+e._s(t.remark)+"\n              ")])])])]:e._e()})]:e._e(),e._v(" "),"edit"==e.orderDetailDialog.type||"batch"==e.orderDetailDialog.type?[i("div",{staticClass:"section-item"},[i("div",[i("div",{staticClass:"section-item-sign-wrap"},[i("div",{staticClass:"section-item-sign"},[i("span",[i("span",{staticClass:"sign-required"},[e._v("*")]),e._v("申诉原因：")])])]),e._v(" "),i("div",{staticClass:"inline-item",staticStyle:{width:"300px"}},[i("el-input",{staticClass:"area-item-large",attrs:{rows:e.textAreaRows,resize:"none",placeholder:"请输入",type:"textarea",size:"small"},model:{value:e.complaintOpt.reason,callback:function(t){e.$set(e.complaintOpt,"reason",t)},expression:"complaintOpt.reason"}})],1)]),e._v(" "),i("div",[i("div",{staticClass:"section-item-sign-wrap"},[i("div",{staticClass:"section-item-sign"},[i("span",[e._v("附件：")])])]),e._v(" "),i("div",{staticClass:"inline-item"},[i("el-upload",{ref:"imgUpload",attrs:{"show-file-list":!1,action:"/sellerAdmin/pic/upload","before-upload":e.beforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),e.uploadFileList.isShow?i("ul",{staticClass:"el-upload-list el-upload-list--text"},[i("li",{staticClass:"el-upload-list__item is-ready"},[i("a",{staticClass:"el-upload-list__item-name"},[i("i",{staticClass:"el-icon-document"}),e._v(e._s(e.uploadFileList.name))])])]):e._e()],1)])]),e._v(" "),i("div",{staticClass:"menu",staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitComplaint()}}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.cancelComplaint()}}},[e._v("取消")])],1)]:e._e()],2)],1)])},staticRenderFns:[]}},BXxU:function(e,t){},"HDx/":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Dd8w"),l=i.n(a),s=i("dJOE"),n=i("NOQh"),r=i("NYxO"),o=i("tKaV"),c={created:function(){this.initView()},data:function(){return{tableList:[],paging:{currentPage:1,pageSizes:[20,30,50,100],pageSize:0,total:0,query:{}},mapStatus:{"-1":"未申诉",0:"处理中",1:"申诉成功",2:"申诉失败"},pagingShow:!1,loading:!0,orderDetailDialog:{isShow:!1,type:"view",viewReady:!1},textAreaRows:4,orderDetailConfig:{items:[{label:"订单编号",key:"orderNumber"},{label:"订单实付金额",key:"orderRealPrice"},{label:"付款时间",key:"orderPayTime"},{label:"超时时间点",key:"orderExpireTime"},{label:"物流揽件时间",key:"collectLogisticsTime"},{label:"超时时间",key:"timeoutPeriod",type:"timeoutPeriod"},{label:"罚款金额",key:"penaltyAmount"}]},picUpload:{picFile:null,getSize:1},uploadFileList:{isShow:!1,name:""},complaintOpt:{file:null,reason:"",orderDeliveryExpireId:""},batchList:[],timeOutOrderDetail:{}}},computed:l()({},Object(r.d)(["currentSearch","currentSearchQuery"])),methods:l()({},Object(r.b)(["setCurrentSearchQuery","getOrderList","getTimeOutOrderList","callSetNotice","getTimeOutOrderDetail","complainTimeOutOrder"]),{initView:function(){var e=this,t=this.$route.query;this.currentSearchOption=Util.searchQuery(t,this.currentSearch.searchList.public,this.currentSearch.searchList.private),this.setCurrentSearchQuery(this.currentSearchOption),this.pagingShow=!1,this.loading=!0,this.getTimeOutOrderList(this.currentSearchQuery).then(function(t){e.pagingShow=!0,e.setOrderList(t)})},setOrderList:function(e){this.loading=!1,this.tableList=e.rows,this.paging.pageSize=Number(this.currentSearchQuery.rows),this.paging.currentPage=Number(this.currentSearchQuery.page),this.paging.total=e.total,this.paging.query=this.currentSearchQuery},callBatchComplaint:function(){if(!this.batchList.length)return this.getNotice("请选择申诉订单"),!1;var e=[];for(var t in this.batchList)e.push(this.batchList[t].id);this.complaintOpt.orderDeliveryExpireId=e.join(","),this.orderDetailDialog.isShow=!0,this.orderDetailDialog.type="batch"},callComplaint:function(e,t){var i=this,a={orderDeliveryExpireId:e};this.getTimeOutOrderDetail(a).then(function(a){i.timeOutOrderDetail=a,i.orderDetailDialog.isShow=!0,i.orderDetailDialog.viewReady=!0,i.orderDetailDialog.type=t,"edit"==t&&(i.complaintOpt.orderDeliveryExpireId=e)})},submitComplaint:function(){var e=this;return this.complaintOpt.reason?this.complaintOpt.reason.length>50?(this.getNotice("原因字数不能超过50"),!1):void this.complainTimeOutOrder(this.complaintOpt).then(function(){e.cancelComplaint(),e.initView()}):(this.getNotice("原因不能为空"),!1)},cancelComplaint:function(){this.orderDetailDialog.isShow=!1,this.orderDetailDialog.viewReady=!1,this.orderDetailDialog.type="new",this.complaintOpt={file:null,reason:"",orderDeliveryExpireId:""},this.uploadFileList.isShow=!1,this.uploadFileList.name=""},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,i=e.size/1024<400;return t?i?(t&&i&&(this.complaintOpt.file=e,this.uploadFileList.isShow=!0,this.uploadFileList.name=e.name),!1):(this.getNotice("上传头像图片大小不能超过 400KB!"),!1):(this.getNotice("上传图片格式不正确"),!1)},tableRowClassName:function(e,t){return t%2==1?"info-row":"positive-row"},selectable:function(e,t){var i=!1;return 1==e.isAllowComplain&&(-1==e.status||1==e.status&&0!=e.penaltyAmount||2==e.status&&e.complainCount<=1)&&(i=!0),i},handleSelectionChange:function(e){this.batchList=e},getNotice:function(e){var t={isShow:!0,msg:e};this.callSetNotice(t)}}),components:{vPagination:o.a},watch:{$route:function(e,t){e.fullPath!==t.fullPath&&this.initView()}}},p=i("3sl7"),d=i.n(p);var u=function(e){i("BXxU")},h=i("VU/8")(c,d.a,!1,u,"data-v-11b31bfc",null).exports,m={name:"orderTimeOut",created:function(){this.initSearch()},data:function(){return{orderSearch:{searchList:{public:[{type:"",key:"page",intKey:1},{type:"",key:"rows",intKey:20},{type:"input",label:"订单编号",placeholder:"请输入订单编号",key:"orderNumber"},{type:"select",label:"发货地",placeholder:"请选择",key:"sellerId",options:[]},{type:"select",label:"状态",placeholder:"请选择",key:"isAllowComplain",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"0",label:"不可申诉"},{value:"1",label:"可申诉"}]},{type:"select",label:"处理结果",placeholder:"请选择",key:"status",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"-1",label:"未申诉"},{value:"0",label:"处理中"},{value:"1",label:"申诉成功"},{value:"2",label:"申诉失败"}]}],private:[{type:"input",label:"赔偿金额",placeholder:"请输入赔偿金额",key:"penaltyAmountStart",split:!0},{type:"input",label:"",placeholder:"请输入赔偿金额",key:"penaltyAmountEnd"},{type:"date-picker",label:"付款时间",placeholder:"请选择",key:"orderPayTimeStart",checkNextDate:"orderPayTimeEnd",split:!0},{type:"date-picker",label:"",placeholder:"请选择",key:"orderPayTimeEnd",checkPreDate:"orderPayTimeStart"},{type:"date-picker",label:"物流揽件时间",placeholder:"请选择",key:"collectLogisticsTimeStart",checkNextDate:"collectLogisticsTimeEnd",split:!0},{type:"date-picker",label:"",placeholder:"请选择",key:"collectLogisticsTimeEnd",checkPreDate:"collectLogisticsTimeStart"}]},searchMenu:{public:[{label:"查询",style:"primary",type:"submit"},{label:"重置",type:"reset"}]},resultItem:{type:"market",option:[{fixed:"left",label:"订单编号",key:"orderNumber",width:"180"},{label:"付款时间",key:"orderPayTime",width:"160"},{label:"超时时间点",key:"orderExpireTime",width:"160"},{label:"物流揽件时间",key:"collectLogisticsTime",width:"160"},{label:"赔偿金额（元）",key:"penaltyAmount",width:"100"},{label:"处理结果",key:"status",width:"100",type:"status"},{fixed:"right",type:"opera",label:"操作",width:"120"}],opera:{items:[{type:"complaint",label:"申诉"}]}}}}},methods:l()({},Object(r.b)(["setSearch","getDeliveryArea"]),{initSearch:function(){var e=this;this.getDeliveryArea().then(function(t){e.setDeliveryListOpt(t)}),this.setSearch(this.orderSearch)},setDeliveryListOpt:function(e){var t=[];e.forEach(function(e,i){var a={label:e.sendAddress,value:e.id+""};t.push(a)}),this.orderSearch.searchList.public[3].options=t}}),components:{vSearchItem:s.a,vSearchMenu:n.a,vSearchResult:h}},v=i("QDHF"),y=i.n(v);var g=function(e){i("WEdk")},_=i("VU/8")(m,y.a,!1,g,"data-v-2addc1c7",null);t.default=_.exports},QDHF:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this._m(0),this._v(" "),t("div",{staticClass:"section"},[t("v-search-item"),this._v(" "),t("div",{staticClass:"market-box"},[this._m(1),this._v(" "),t("v-search-menu")],1),this._v(" "),t("v-search-result")],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",[this._v("超时订单列表")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"market-sign primary-color"},[t("span",[this._v("提示：")]),this._v(" "),t("p",[this._v("1、订单超时之日起（不含当日），请在7个工作日内完成第一次申诉")]),this._v(" "),t("p",[this._v("2、在平台通过系统回复未通过第一次申诉之日起（不含当日），请在7个工作日完成第二次申诉")]),this._v(" "),t("p",[this._v("3、以上如逾期未申诉的，则系统将冻结此功能，不再允许商家进行申诉")])])}]}},WEdk:function(e,t){}});
//# sourceMappingURL=20.ff1a52bb77ff0e6ff970.js.map