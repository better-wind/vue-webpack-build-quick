webpackJsonp([39],{"1DX8":function(t,e){},"2dNl":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i("mvHQ"),s=i.n(l),a=i("Dd8w"),n=i.n(a),c=i("NYxO"),o={computed:n()({},Object(c.d)(["allCity","sellerInfo","brandList","sellerContact"])),created:function(){this.initView()},data:function(){return{selectCityModel:{selectedProvince:"",selectedCity:"",selectedDistrict:""},selectCity:{provinceList:[],cityList:[],districtList:[]},configCity:[{modelKey:"selectedProvince",nextOptionKey:"cityList",optionList:"provinceList",optionKey:"provinceId",key:"province",label:"请选择省"},{modelKey:"selectedCity",optionList:"cityList",optionKey:"cityId",nextOptionKey:"districtList",key:"city",label:"请选择市"},{modelKey:"selectedDistrict",optionList:"districtList",optionKey:"districtId",nextOptionKey:"",key:"district",label:"请选择区"}],allCityList:{},applyOpts:{sellerName:"",companyName:"",brand:"",companyAddress:"",companyDetailAddress:"",currency:1,contactPerson:"",contactPhone:"",contactQq:"",contactEmail:"",receiveBankAccount:"",receiveBank:"",receiveName:"",swiftCode:"",bankAddress:""},configOpts:[{label:"商家名称",key:"sellerName",type:"input",placeholder:"请填写商家名称"},{label:"公司名称",key:"companyName",type:"input",placeholder:"请填写公司名称"},{label:"经营品牌",key:"brand",type:"brand",notRequired:!0},{label:"公司所在地",key:"companyAddress",type:"companyAddress"},{label:"公司详细地址",key:"companyDetailAddress",type:"input",placeholder:"请填写详细地址"},{label:"币种",key:"currency",type:"select",options:[{value:1,name:"人民币"}],placeholder:"请选择币种"},{label:"联系人",type:"list-input",notRequired:!0,items:[{label:"姓名",key:"contactPerson",placeholder:"请填写联系人姓名"},{label:"电话",key:"contactPhone",placeholder:"请填写联系人电话",reg:/^1(3|4|5|7|8)\d{9}$/g},{label:"QQ",key:"contactQq",placeholder:"请填写联系人QQ",reg:/^\d{6,}$/g},{label:"邮箱",key:"contactEmail",placeholder:"请填写联系人邮箱",reg:/^(\w-*\.*)+@(\w-?)+(\.\w{2,4})+$/g}]},{label:"收款帐号",key:"receiveBankAccount",type:"input",placeholder:"字数限制50字",limit:!0,limitNum:50},{label:"收款银行",key:"receiveBank",type:"input",placeholder:"字数限制50字",limit:!0,limitNum:50},{label:"收款名称",key:"receiveName",type:"input",placeholder:"字数限制50字",limit:!0,limitNum:50},{label:"Swift Code",key:"swiftCode",type:"input",placeholder:"字数限制50字",limit:!0,limitNum:50},{label:"银行地址",key:"bankAddress",type:"input",placeholder:"字数限制50字",limit:!0,limitNum:50}]}},methods:n()({},Object(c.b)(["getAllCity","getSellerBrand","getSellerInfo","callSetNotice","getSellerContact","applySellerInStorage"]),{initView:function(){var t=this;this.sellerInfo.sellerName?this.setSellerMsg():this.getSellerInfo().then(function(){t.setSellerMsg()}),this.brandList.length||this.getSellerBrand(),this.sellerContact.length?this.setSellerContact():this.getSellerContact().then(function(){t.setSellerContact()}),!localStorage.getItem("allCityStorage")||localStorage.getItem("allCityStorage").length<1e4?this.getAllCity().then(function(){localStorage.setItem("allCityStorage",s()(t.allCity.data)),t.initSelectCity()}):this.initSelectCity()},setSellerContact:function(){this.applyOpts.contactPerson=this.sellerContact[2].contactName,this.applyOpts.contactPhone=this.sellerContact[2].contactPhone,this.applyOpts.contactQq=this.sellerContact[2].qq,this.applyOpts.contactEmail=this.sellerContact[2].email},setSellerMsg:function(){this.applyOpts.sellerName=this.sellerInfo.realSellerName,this.applyOpts.companyName=this.sellerInfo.companyName,this.applyOpts.bankAddress=this.sellerInfo.bankAddress,this.applyOpts.receiveBankAccount=this.sellerInfo.receiveBankAccount,this.applyOpts.receiveBank=this.sellerInfo.receiveBank,this.applyOpts.receiveName=this.sellerInfo.receiveName,this.applyOpts.swiftCode=this.sellerInfo.swiftCode},initSelectCity:function(){this.allCityList=JSON.parse(localStorage.getItem("allCityStorage")),this.changeCity("init")},changeCity:function(t,e,i,l){if("init"==t)return this.selectCity.provinceList=this.allCityList.provinceList,!1;var s=this,a={cityList:"provinceId",districtList:"cityId"};"selectedProvince"==e&&(this.selectCityModel.selectedCity="",this.selectCityModel.selectedDistrict=""),"selectedCity"==e&&(this.selectCityModel.selectedDistrict=""),i&&(this.selectCity[i]=this.allCityList[i].filter(function(t,l){if(t[a[i]]==s.selectCityModel[e])return t}))},callSubmitApply:function(){var t=this,e=[];if(!this.selectCityModel.selectedProvince||!this.selectCityModel.selectedCity||!this.selectCityModel.selectedDistrict)return this.getNotice("请选择公司地址"),!1;var i={provinceList:["provinceId","selectedProvince"],cityList:["cityId","selectedCity"],districtList:["districtId","selectedDistrict"]},l=function(l){t.allCityList[l].forEach(function(s){s[i[l][0]]==t.selectCityModel[i[l][1]]&&e.push(s.name)})};for(var s in this.allCityList)l(s);for(var s in this.applyOpts.companyAddress=e.join(" "),this.configOpts){var a=this.configOpts[s];if(!this.applyOpts[a.key]&&!a.notRequired)return this.getNotice("请填写"+a.label),!1;if(a.items)for(var n in a.items){var c=a.items[n];if(!this.applyOpts[c.key])return this.getNotice("请填写"+a.label+c.label),!1;if(c.reg&&!this.applyOpts[c.key].match(c.reg))return this.getNotice(a.label+c.label+"格式不正确"),!1}if(a.limit&&this.applyOpts[a.key].length>a.limitNum)return this.getNotice(a.label+"字数不能大于"+a.limitNum),!1}this.applySellerInStorage(this.applyOpts).then(function(){t.$router.push({path:"/warehouse/agreement"})})},getNotice:function(t){var e={isShow:!0,msg:t};this.callSetNotice(e)}})},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("div",{staticClass:"section"},[t._m(1),t._v(" "),i("div",{staticClass:"section-item"},[t._l(t.configOpts,function(e){return["input"==e.type?i("div",{staticClass:"block-item"},[i("span",{staticClass:"section-item-sign"},[t._v(t._s(e.label)+"：")]),t._v(" "),i("div",{staticClass:"inline-item"},[i("el-input",{staticClass:"input-item-large",attrs:{placeholder:e.placeholder,size:"small"},model:{value:t.applyOpts[e.key],callback:function(i){t.$set(t.applyOpts,e.key,i)},expression:"applyOpts[item.key]"}})],1)]):t._e(),t._v(" "),"brand"==e.type?i("div",{staticClass:"block-item",staticStyle:{"padding-bottom":"0",position:"relative",overflow:"hidden"}},[i("div",{staticClass:"section-item-sign-wrap",staticStyle:{width:"auto"}},[i("span",{staticClass:"section-item-sign"},[t._v(t._s(e.label)+"：")])]),t._v(" "),i("div",{staticClass:"inline-item",staticStyle:{width:"800px"}},[t._l(t.brandList,function(e){return[i("span",{staticClass:"brand-item"},[t._v(t._s(e.name))])]})],2)]):t._e(),t._v(" "),"list-input"==e.type?i("div",{staticClass:"block-item"},[i("span",{staticClass:"section-item-sign"},[t._v(t._s(e.label)+"：")]),t._v(" "),i("div",{staticClass:"inline-item"},[t._l(e.items,function(e){return[i("span",[t._v(t._s(e.label)+":")]),t._v(" "),i("el-input",{staticClass:"input-item-middle mg-r",attrs:{placeholder:e.placeholder,size:"small"},model:{value:t.applyOpts[e.key],callback:function(i){t.$set(t.applyOpts,e.key,i)},expression:"applyOpts[subItem.key]"}})]})],2)]):t._e(),t._v(" "),"select"==e.type?i("div",{staticClass:"block-item"},[i("span",{staticClass:"section-item-sign"},[t._v(t._s(e.label)+"：")]),t._v(" "),i("div",{staticClass:"inline-item"},[i("el-select",{staticClass:"input-item-large",attrs:{size:"small"},model:{value:t.applyOpts[e.key],callback:function(i){t.$set(t.applyOpts,e.key,i)},expression:"applyOpts[item.key]"}},t._l(e.options,function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.value}})}))],1)]):"companyAddress"==e.type?i("div",{staticClass:"block-item"},[i("span",{staticClass:"section-item-sign"},[t._v("公司所在地：")]),t._v(" "),i("div",{staticClass:"inline-item"},[t._l(t.configCity,function(e,l){return[i("el-select",{staticClass:"input-item-large mg-r",attrs:{size:"small",placeholder:e.label},on:{change:function(i){t.changeCity("change",e.modelKey,e.nextOptionKey,i)}},model:{value:t.selectCityModel[e.modelKey],callback:function(i){t.$set(t.selectCityModel,e.modelKey,i)},expression:"selectCityModel[item.modelKey]"}},t._l(t.selectCity[e.optionList],function(t,l){return i("el-option",{key:l,attrs:{label:t.name,value:t[e.optionKey]}})}))]})],2)]):t._e()]})],2),t._v(" "),i("div",{staticClass:"section-item"},[i("div",{staticClass:"menu-center"},[i("el-button",{attrs:{type:"primary"},on:{click:t.callSubmitApply}},[t._v("提交入仓申请")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("商家入仓")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-item section-item-title"},[e("span",[this._v("请确认商家信息真实准确")])])}]};var p=i("VU/8")(o,r,!1,function(t){i("1DX8")},"data-v-5331754d",null);e.default=p.exports}});
//# sourceMappingURL=39.ee50b08a435d075831d1.js.map