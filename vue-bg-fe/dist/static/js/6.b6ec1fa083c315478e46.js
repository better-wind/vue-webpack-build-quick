webpackJsonp([6],{"1z8a":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"section-item"},[t("div",{staticClass:"search-item"},[t("v-item",{attrs:{searchOption:this.searchOption}})],1)])},staticRenderFns:[]}},"9PSi":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dd8w"),l=a.n(i),r=a("zmfR"),n=a("p47a"),s=a("HBWi"),c=a("NYxO"),o={name:"largeReport",created:function(){this.initSearch()},computed:l()({},Object(c.mapState)(["currentSearch"])),data:function(){return{reportSearch:{searchList:{public:[{type:"",key:"page",intKey:1},{type:"",key:"rows",intKey:20},{type:"input",label:"主题ID",placeholder:"请输入",key:"activityId"},{type:"input",label:"活动主题",placeholder:"请输入",key:"activityName",width:"365"},{type:"select",label:"活动渠道",placeholder:"请选择",key:"activityType",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"1",label:"格格家"},{value:"2",label:"环球捕手"},{value:"5",label:"格格家供应链"},{value:"6",label:"脉宝云店"},{value:"8",label:"美食买手"}]}],private:[{type:"date-picker",label:"活动开始时间",placeholder:"请选择",key:"activityStart",checkNextDate:"activityEnd",split:!0},{type:"date-picker",label:"",placeholder:"请选择",key:"activityEnd",checkPreDate:"activityStart"},{type:"select",label:"活动状态",placeholder:"请选择",key:"activityState",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"0",label:"未开始"},{value:"1",label:"进行中"},{value:"2",label:"已结束"},{value:"3",label:"已停用"}]},{type:"select",label:"提报状态",placeholder:"请选择",key:"activityApplyState",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"0",label:"未提报"},{value:"1",label:"已提报"}]}]},searchMenu:{public:[{label:"查询",style:"primary",type:"submit"},{label:"重置",type:"reset"}]},resultItem:{type:"large",option:[{fixed:"left",label:"活动ID",key:"id",width:"60"},{label:"活动主题",key:"name",width:""},{label:"活动渠道",key:"type",width:"100",type:"type"},{label:"活动开始时间",key:"activityStartTime",width:"180",type:"time"},{label:"活动结束时间",key:"activityEndTime",width:"180",type:"time"},{label:"活动状态",key:"isAvailable",width:"80",type:"largeAvailable"},{label:"提报状态",key:"joinCount",width:"60",type:"joinCount"},{label:"提报合计",key:"joinCount",width:"60"},{label:"审核通过",key:"passCount",width:"70"},{label:"审核不通过",key:"denyCount",width:"70"},{fixed:"right",label:"操作",type:"opera",key:"",width:"80"}],opera:{items:[{type:"toDetail",label:"申报",key:"",val:"",source:"search"}]}}}}},methods:l()({},Object(c.mapActions)(["setSearch"]),{initSearch:function(){this.setSearch(this.reportSearch)}}),components:{vSearchItem:r.a,vSearchMenu:n.a,vSearchResult:s.a}},u=a("Rdz+"),p=a.n(u),h=a("VU/8")(o,p.a,!1,null,null,null);t.default=h.exports},FH2I:function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"section-item section-item-no-padding"},[t("div",{staticClass:"menu-item"},[t("v-menu")],1)])},staticRenderFns:[]}},HBWi:function(e,t,a){"use strict";var i=a("Dd8w"),l=a.n(i),r=a("NYxO"),n=a("tKaV"),s={created:function(){this.initView()},data:function(){return{tableList:[],paging:{currentPage:1,pageSizes:[20,30,50,100],pageSize:0,total:0,query:{}},loading:!0,mapFrequency:{0:"一日一次",1:"一日两次",2:"一日三次",3:"一周一次",4:"一周两次",5:"一周三次",6:"一月一次",7:"一月两次",8:"一月三次"},mapType:{1:"格格家",2:"环球捕手",5:"格格家供应链",6:"脉宝云店",8:"美食买手"},resultType:""}},computed:l()({},Object(r.mapState)(["currentSearch","currentSearchQuery","newGoods"])),methods:l()({},Object(r.mapActions)(["setCurrentSearchQuery","getActivityList"]),{initView:function(){var e=this,t=this.$route.query;this.currentSearchOption=Util.searchQuery(t,this.currentSearch.searchList.public,this.currentSearch.searchList.private),this.setCurrentSearchQuery(this.currentSearchOption),this.loading=!0,this.resultType=this.currentSearch.resultItem.type;var a="";"large"==this.resultType?a="/activity/page/promotion":"daily"==this.resultType&&(a="/activity/page/daily");var i={link:a,data:this.currentSearchQuery,isNewGoods:this.newGoods?1:0};this.getActivityList(i).then(function(t){e.setList(t)})},setList:function(e){this.loading=!1,this.tableList=e.rows,this.paging.pageSize=Number(this.currentSearchQuery.rows),this.paging.currentPage=Number(this.currentSearchQuery.page),this.paging.total=e.total,this.paging.query=this.currentSearchQuery},toDetail:function(e,t,a){var i="new";t>0&&(i="edit"),this.$router.push({path:this.newGoods?"/activity/detail/goods":"/activity/detail",query:{id:e,type:i,source:this.resultType}})},tableRowClassName:function(e,t){return t%2==1?"info-row":"positive-row"},getNotice:function(e){var t={isShow:!0,msg:e};this.callSetNotice(t)},getLargeAvailable:function(e,t,a){var i=new Date(e),l=new Date(t),r=new Date,n="",s=0;return r<i?n="未开始":r>=i&&r<l?(n="进行中",s=1):r>=l&&(n="已结束"),"status"==a?n:s}}),components:{vPagination:n.a},watch:{$route:function(e,t){e.fullPath!==t.fullPath&&this.initView()}}},c=a("XcfD"),o=a.n(c);var u=function(e){a("L+4U")},p=a("VU/8")(s,o.a,!1,u,"data-v-1f07f336",null);t.a=p.exports},"L+4U":function(e,t){},"Rdz+":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"title"},[this._v("\n    大促活动提报\n  ")]),this._v(" "),t("div",{staticClass:"section"},[t("v-search-item"),this._v(" "),t("v-search-menu"),this._v(" "),t("v-search-result")],1)])},staticRenderFns:[]}},XcfD:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"section-item section-item-no-padding"},[a("div",{staticClass:"result-view"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:e.tableList,"row-class-name":e.tableRowClassName}},[e._l(e.currentSearch.resultItem.option,function(t,i){return["left"==t.fixed?[a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"}})]:"right"==t.fixed?["opera"==t.type?a("el-table-column",{attrs:{label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(e.currentSearch.resultItem.opera.items,function(i,l){return["toDetail"==i.type?["daily"==e.resultType?[1==t.row.isAvailable?[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.toDetail(t.row.id,t.row.joinCount)}}},[e._v("提报")])]:[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.toDetail(t.row.id,t.row.joinCount)}}},[e._v("详情")])]]:[1==t.row.isAvailable&&1==e.getLargeAvailable(t.row.applyStartTime,t.row.applyEndTime,"opera")?[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.toDetail(t.row.id,t.row.joinCount)}}},[e._v("提报")])]:[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.toDetail(t.row.id,t.row.joinCount)}}},[e._v("详情")])]]]:e._e()]})]}}])}):e._e()]:["time"==t.type?a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[a("div",{staticClass:"time-item",staticStyle:{padding:"5px 20px"}},[e._v("\n                "+e._s(i.row[t.key])+"\n              ")])]}}])}):"frequency"==t.type?a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.mapFrequency[t.row.frequency]))])]}}])}):"type"==t.type?a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.type.split(","),function(t){return a("span",{staticStyle:{display:"block"}},[e._v("\n                "+e._s(e.mapType[t])+"\n              ")])})}}])}):"joinCount"==t.type?a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.joinCount?a("span",[e._v("已提报")]):a("span",[e._v("未提报")])]}}])}):"dailyAvailable"==t.type?a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isAvailable?a("span",[e._v("日常进行中")]):a("span",[e._v("已停用")])]}}])}):"largeAvailable"==t.type?a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isAvailable?[e._v("\n                "+e._s(e.getLargeAvailable(t.row.activityStartTime,t.row.activityEndTime,"status"))+"\n              ")]:a("span",[e._v("已停用")])]}}])}):a("el-table-column",{attrs:{prop:t.key,label:t.label,width:t.width,align:"center"}})]]})],2),e._v(" "),a("v-pagination",{attrs:{paging:e.paging}})],1)])},staticRenderFns:[]}},l75h:function(e,t){},p47a:function(e,t,a){"use strict";var i={components:{vMenu:a("j+MX").a}},l=a("FH2I"),r=a.n(l),n=a("VU/8")(i,r.a,!1,null,null,null);t.a=n.exports},zmfR:function(e,t,a){"use strict";var i=a("Dd8w"),l=a.n(i),r=a("75Vn"),n=a("NYxO"),s={created:function(){this.initSearchItem()},data:function(){return{searchOption:{page:"1",rows:"20"},pickerOptions:{disabledDate:function(e){return e.getTime()>=Date.now()}}}},computed:l()({},Object(n.mapState)(["currentSearch","currentSearchQuery"])),methods:l()({},Object(n.mapActions)(["setCurrentSearchQuery"]),{initSearchItem:function(){this.currentSearchOption=Util.searchQuery(this.$route.query,this.currentSearch.searchList.public,this.currentSearch.searchList.private),this.setCurrentSearchQuery(this.currentSearchOption)},checkDate:function(e,t,a,i){var l=this.currentSearchQuery;l[e]=Util.formatDate("yyyy-mm-dd hh:mm:ss",l[e]),a&&i&&(a=Util.formatDate("yyyy-mm-dd hh:mm:ss",a),i=Util.formatDate("yyyy-mm-dd hh:mm:ss",i),Util.formatDateCom(a,i)&&(l[t]="")),this.setCurrentSearchQuery(l)}}),components:{vItem:r.a}},c=a("1z8a"),o=a.n(c);var u=function(e){a("l75h")},p=a("VU/8")(s,o.a,!1,u,"data-v-69953bd9",null);t.a=p.exports}});
//# sourceMappingURL=6.b6ec1fa083c315478e46.js.map