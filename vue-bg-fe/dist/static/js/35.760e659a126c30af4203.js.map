{"version":3,"sources":["webpack:///./src/pages/accountManage/authority.vue?ff34","webpack:///src/pages/accountManage/authority.vue","webpack:///./src/pages/accountManage/authority.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","_m","_v","staticClass","_s","loginCheck","username","attrs","size","type","on","click","$event","changePwd","id","callEditRole","title","visible","roleEditConfig","isModal","close","cancelRole","update:visible","$set","ref","model","opts","rules","roleEditConfigRules","label","prop","label-width","placeholder","auto-complete","value","callback","$$v","expression","data","treeList","show-checkbox","node-key","props","defaultProps","check-change","checkedTree","slot","submitRole","staticStyle","width","accountRoleList","align","scopedSlots","_u","key","fn","scope","row","callDelRole","callEditAccount","accountListFilter","_l","item","mapRoleID","sellerRoleId","password","callDelAccount","accountRoleConfig","cancelEditAccount","add","accountRoleConfigRules","roleName","edit","submitEditAccount","changePwdConfig","cancelChangePwd","changePwdConfigRules","_e","submitChangePwd","staticRenderFns","initView","_this","required","message","trigger","validator","validatePass","newPassword","computed","extendsfrom_dll_reference_vendor_library_default","Object","vuex_esmfrom_dll_reference_vendor_library","methods","_this2","getAccountFunctionList","then","rs","setFunList","callGetAccountRoleList","callGetAccountList","_this3","getAccountList","_this4","getAccountRoleList","opt","functionName","i","_opts2","_this5","accountId","oldPassword","changeAccountPwd","pwd","children","sellerFuncId","defOpt","defaultCheck","resetFields","_opts","checkList","_this8","remark","_opts3","_opts4","_this9","msg","notice","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","authority","authority_default","a","__webpack_exports__"],"mappings":"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","file":"static/js/35.760e659a126c30af4203.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"section-item padding\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_vm._v(\"\\n        账号:\"+_vm._s(_vm.loginCheck.username)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_vm._v(\"\\n        密码:\\n        \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.changePwd(_vm.loginCheck.id,'')}}},[_vm._v(\"修改密码\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"section-item\"},[_c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"角色设置\")]),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.callEditRole()}}},[_vm._v(\"新增角色\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"modal\"},[_c('el-dialog',{attrs:{\"size\":\"tiny\",\"title\":\"角色编辑\",\"visible\":_vm.roleEditConfig.isModal},on:{\"close\":function($event){_vm.cancelRole()},\"update:visible\":function($event){_vm.$set(_vm.roleEditConfig, \"isModal\", $event)}}},[_c('el-form',{ref:\"roleEditConfig.opts\",attrs:{\"model\":_vm.roleEditConfig.opts,\"rules\":_vm.roleEditConfigRules}},[_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"roleName\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\",\"auto-complete\":\"off\"},model:{value:(_vm.roleEditConfig.opts.roleName),callback:function ($$v) {_vm.$set(_vm.roleEditConfig.opts, \"roleName\", $$v)},expression:\"roleEditConfig.opts.roleName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"roleDesc\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色描述\",\"auto-complete\":\"off\"},model:{value:(_vm.roleEditConfig.opts.roleDesc),callback:function ($$v) {_vm.$set(_vm.roleEditConfig.opts, \"roleDesc\", $$v)},expression:\"roleEditConfig.opts.roleDesc\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"权限\",\"prop\":\"roleFunctionRelations\",\"label-width\":\"80px\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeList,\"show-checkbox\":\"\",\"node-key\":\"id\",\"props\":_vm.defaultProps,\"auto-complete\":\"off\"},on:{\"check-change\":_vm.checkedTree}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.cancelRole()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitRole('roleEditConfig.opts')}}},[_vm._v(\"确 定\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"result-view\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.accountRoleList}},[_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色\",\"width\":\"340\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleDesc\",\"label\":\"描述\",\"width\":\"340\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.callEditRole(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.callDelRole(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"section-item\"},[_c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"其他账号设置\")]),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.callEditAccount()}}},[_vm._v(\"新增账号\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"result-view\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.accountListFilter}},[_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"账号\",\"width\":\"340\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"accountRoleRelations\",\"label\":\"角色\",\"width\":\"340\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.accountRoleRelations),function(item){return _c('span',[_vm._v(_vm._s(_vm.mapRoleID[item.sellerRoleId+''])+\"  \")])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.callEditAccount(scope.row)}}},[_vm._v(\"配置角色\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.changePwd(scope.row.id,scope.row.password)}}},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.callDelAccount(scope.row.id,scope.row.username)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"modal\"},[_c('el-dialog',{attrs:{\"size\":\"tiny\",\"title\":\"账户编辑\",\"visible\":_vm.accountRoleConfig.isModal},on:{\"update:visible\":function($event){_vm.$set(_vm.accountRoleConfig, \"isModal\", $event)},\"close\":function($event){_vm.cancelEditAccount()}}},[(_vm.accountRoleConfig.type == 'add')?_c('el-form',{ref:\"accountRoleConfig.opts.add\",attrs:{\"model\":_vm.accountRoleConfig.opts.add,\"rules\":_vm.accountRoleConfigRules}},[_c('el-form-item',{attrs:{\"label\":\"账户\",\"prop\":\"username\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请填写\",\"auto-complete\":\"off\"},model:{value:(_vm.accountRoleConfig.opts.add.username),callback:function ($$v) {_vm.$set(_vm.accountRoleConfig.opts.add, \"username\", $$v)},expression:\"accountRoleConfig.opts.add.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请填写\",\"auto-complete\":\"off\"},model:{value:(_vm.accountRoleConfig.opts.add.password),callback:function ($$v) {_vm.$set(_vm.accountRoleConfig.opts.add, \"password\", $$v)},expression:\"accountRoleConfig.opts.add.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"remark\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请填写\",\"auto-complete\":\"off\"},model:{value:(_vm.accountRoleConfig.opts.add.remark),callback:function ($$v) {_vm.$set(_vm.accountRoleConfig.opts.add, \"remark\", $$v)},expression:\"accountRoleConfig.opts.add.remark\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色\",\"prop\":\"accountRoleRelations\",\"label-width\":\"100px\"}},[_c('el-checkbox-group',{model:{value:(_vm.accountRoleConfig.checkList),callback:function ($$v) {_vm.$set(_vm.accountRoleConfig, \"checkList\", $$v)},expression:\"accountRoleConfig.checkList\"}},[_vm._l((_vm.roleCheckOptions),function(item,key){return [_c('el-checkbox',{attrs:{\"label\":item.roleName}})]})],2)],1)],1):_c('el-form',{ref:\"accountRoleConfig.opts.edit\",attrs:{\"model\":_vm.accountRoleConfig.opts.edit,\"rules\":_vm.accountRoleConfigRules}},[_c('el-form-item',{attrs:{\"prop\":\"accountRoleRelations\",\"label\":\"角色\",\"label-width\":\"100px\"}},[_c('el-checkbox-group',{model:{value:(_vm.accountRoleConfig.checkList),callback:function ($$v) {_vm.$set(_vm.accountRoleConfig, \"checkList\", $$v)},expression:\"accountRoleConfig.checkList\"}},[_vm._l((_vm.roleCheckOptions),function(item,key){return [_c('el-checkbox',{attrs:{\"label\":item.roleName}})]})],2)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.cancelEditAccount()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.accountRoleConfig.type == 'add')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitEditAccount('accountRoleConfig.opts.add')}}},[_vm._v(\"确 定\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitEditAccount('accountRoleConfig.opts.edit')}}},[_vm._v(\"确 定\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"modal\"},[_c('el-dialog',{attrs:{\"size\":\"tiny\",\"title\":\"修改密码\",\"visible\":_vm.changePwdConfig.isModal},on:{\"update:visible\":function($event){_vm.$set(_vm.changePwdConfig, \"isModal\", $event)},\"close\":function($event){_vm.cancelChangePwd()}}},[_c('el-form',{ref:\"changePwdConfig.opts\",attrs:{\"model\":_vm.changePwdConfig.opts,\"rules\":_vm.changePwdConfigRules}},[(_vm.changePwdConfig.type == 'Main')?_c('el-form-item',{attrs:{\"prop\":\"oldPassword\",\"label\":\"原密码\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请填写\",\"auto-complete\":\"off\"},model:{value:(_vm.changePwdConfig.opts.oldPassword),callback:function ($$v) {_vm.$set(_vm.changePwdConfig.opts, \"oldPassword\", $$v)},expression:\"changePwdConfig.opts.oldPassword\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"新密码\",\"label-width\":\"100px\",\"prop\":\"newPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请填写\",\"auto-complete\":\"off\"},model:{value:(_vm.changePwdConfig.opts.newPassword),callback:function ($$v) {_vm.$set(_vm.changePwdConfig.opts, \"newPassword\", $$v)},expression:\"changePwdConfig.opts.newPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"label-width\":\"100px\",\"prop\":\"confirmPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请填写\",\"auto-complete\":\"off\"},model:{value:(_vm.changePwdConfig.opts.confirmPassword),callback:function ($$v) {_vm.$set(_vm.changePwdConfig.opts, \"confirmPassword\", $$v)},expression:\"changePwdConfig.opts.confirmPassword\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.cancelChangePwd()}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitChangePwd('changePwdConfig.opts')}}},[_vm._v(\"确 定\")])],1)],1)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"账户与权限\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"当前账号设置\")])])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9a8d6b08\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/accountManage/authority.vue\n// module id = /FLf\n// module chunks = 35","<template>\n  <div>\n    <div class=\"title\">\n      <span>账户与权限</span>\n    </div>\n    <div class=\"section\">\n      <div class=\"section-item padding\">\n        <div class=\"section-title\">\n          <span>当前账号设置</span>\n        </div>\n        <div class=\"block-item\">\n          账号:{{loginCheck.username}}\n        </div>\n        <div class=\"block-item\">\n          密码:\n          <el-button size=\"small\" type=\"primary\" @click=\"changePwd(loginCheck.id,'')\">修改密码</el-button>\n        </div>\n      </div>\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>角色设置</span>\n          <div class=\"block-item\">\n            <el-button size=\"small\" type=\"primary\" @click=\"callEditRole()\">新增角色</el-button>\n          </div>\n        </div>\n        <div class=\"modal\">\n          <el-dialog size=\"tiny\" @close=\"cancelRole()\" title=\"角色编辑\" :visible.sync=\"roleEditConfig.isModal\">\n            <el-form :model=\"roleEditConfig.opts\" :rules=\"roleEditConfigRules\" ref=\"roleEditConfig.opts\">\n              <el-form-item  label=\"角色\" prop=\"roleName\" label-width=\"80px\">\n                <el-input   v-model=\"roleEditConfig.opts.roleName\" placeholder=\"角色名称\" auto-complete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item  label=\"描述\" prop=\"roleDesc\" label-width=\"80px\">\n                <el-input  v-model=\"roleEditConfig.opts.roleDesc\" placeholder=\"角色描述\" auto-complete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item  label=\"权限\" prop=\"roleFunctionRelations\" label-width=\"80px\">\n                <!--:default-checked-keys=\"roleEditConfig.defaultChecked\"-->\n                <el-tree @check-change=\"checkedTree\" ref=\"tree\"  :data=\"treeList\" show-checkbox node-key=\"id\"  :props=\"defaultProps\" auto-complete=\"off\"></el-tree>\n              </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"cancelRole()\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"submitRole('roleEditConfig.opts')\">确 定</el-button>\n            </div>\n          </el-dialog>\n        </div>\n      </div>\n      <div class=\"result-view\">\n        <el-table :data=\"accountRoleList\" style=\"width: 100%;\">\n          <el-table-column prop=\"roleName\"  label=\"角色\" width=\"340\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"roleDesc\"  label=\"描述\" width=\"340\" align=\"center\"></el-table-column>\n          <el-table-column  label=\"操作\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button size=\"small\" type=\"primary\"  @click=\"callEditRole(scope.row)\">编辑</el-button>\n              <el-button size=\"small\" @click=\"callDelRole(scope.row.id)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>其他账号设置</span>\n          <div class=\"block-item\">\n            <el-button size=\"small\" type=\"primary\" @click=\"callEditAccount()\">新增账号</el-button>\n          </div>\n        </div>\n      </div>\n      <div class=\"result-view\">\n        <el-table :data=\"accountListFilter\" style=\"width: 100%;\">\n          <el-table-column prop=\"username\"  label=\"账号\" width=\"340\" align=\"center\"></el-table-column>\n          <el-table-column prop=\"accountRoleRelations\"  label=\"角色\" width=\"340\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span v-for=\"item in scope.row.accountRoleRelations\">{{mapRoleID[item.sellerRoleId+'']}}&nbsp;&nbsp;</span>\n            </template>\n          </el-table-column>\n          <el-table-column  label=\"操作\"  align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button size=\"small\" type=\"primary\" @click=\"callEditAccount(scope.row)\">配置角色</el-button>\n              <el-button size=\"small\" type=\"primary\" @click=\"changePwd(scope.row.id,scope.row.password)\">修改密码</el-button>\n              <el-button size=\"small\" @click=\"callDelAccount(scope.row.id,scope.row.username)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n\n      <!--账户编辑弹窗-->\n      <div class=\"modal\">\n        <el-dialog size=\"tiny\" title=\"账户编辑\" :visible.sync=\"accountRoleConfig.isModal\" @close=\"cancelEditAccount()\">\n          <el-form v-if=\"accountRoleConfig.type == 'add'\" :model=\"accountRoleConfig.opts.add\" :rules=\"accountRoleConfigRules\" ref=\"accountRoleConfig.opts.add\">\n            <el-form-item  label=\"账户\" prop=\"username\" label-width=\"100px\">\n              <el-input  v-model=\"accountRoleConfig.opts.add.username\" placeholder=\"请填写\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item  label=\"密码\" prop=\"password\" label-width=\"100px\">\n              <el-input type=\"password\" v-model=\"accountRoleConfig.opts.add.password\" placeholder=\"请填写\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item  label=\"确认密码\" prop=\"remark\" label-width=\"100px\">\n              <el-input type=\"password\"  v-model=\"accountRoleConfig.opts.add.remark\" placeholder=\"请填写\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item  label=\"角色\" prop=\"accountRoleRelations\" label-width=\"100px\">\n              <el-checkbox-group v-model=\"accountRoleConfig.checkList\">\n                <template v-for=\"(item,key) in roleCheckOptions\">\n                  <el-checkbox :label=\"item.roleName\"></el-checkbox>\n                </template>\n\n              </el-checkbox-group>\n            </el-form-item>\n          </el-form>\n          <el-form v-else :model=\"accountRoleConfig.opts.edit\" :rules=\"accountRoleConfigRules\" ref=\"accountRoleConfig.opts.edit\">\n            <el-form-item  prop=\"accountRoleRelations\" label=\"角色\" label-width=\"100px\">\n              <el-checkbox-group v-model=\"accountRoleConfig.checkList\">\n                <template v-for=\"(item,key) in roleCheckOptions\">\n                  <el-checkbox :label=\"item.roleName\"></el-checkbox>\n                </template>\n              </el-checkbox-group>\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"cancelEditAccount()\">取 消</el-button>\n            <el-button v-if=\"accountRoleConfig.type == 'add'\" type=\"primary\" @click=\"submitEditAccount('accountRoleConfig.opts.add')\">确 定</el-button>\n            <el-button v-else type=\"primary\" @click=\"submitEditAccount('accountRoleConfig.opts.edit')\">确 定</el-button>\n          </div>\n        </el-dialog>\n      </div>\n      <div class=\"modal\">\n        <el-dialog size=\"tiny\" title=\"修改密码\" :visible.sync=\"changePwdConfig.isModal\"  @close=\"cancelChangePwd()\">\n          <el-form :model=\"changePwdConfig.opts\" :rules=\"changePwdConfigRules\" ref=\"changePwdConfig.opts\">\n            <el-form-item v-if=\"changePwdConfig.type == 'Main'\"  prop=\"oldPassword\" label=\"原密码\" label-width=\"100px\">\n              <el-input  type=\"password\" v-model=\"changePwdConfig.opts.oldPassword\" placeholder=\"请填写\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item  label=\"新密码\" label-width=\"100px\" prop=\"newPassword\">\n              <el-input  type=\"password\" v-model=\"changePwdConfig.opts.newPassword\" placeholder=\"请填写\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n            <el-form-item  label=\"确认密码\" label-width=\"100px\" prop=\"confirmPassword\">\n              <el-input  type=\"password\" v-model=\"changePwdConfig.opts.confirmPassword\" placeholder=\"请填写\" auto-complete=\"off\"></el-input>\n            </el-form-item>\n          </el-form>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"cancelChangePwd()\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"submitChangePwd('changePwdConfig.opts')\">确 定</el-button>\n          </div>\n        </el-dialog>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import {mapState, mapActions} from 'vuex'\n  export default {\n    name: 'authority',\n    created (){\n      this.initView()\n    },\n    data() {\n      const validateArray = (rule, value, callback) => {\n        if(value.length < 1){\n          callback(new Error('请选择'));\n        }   else {\n          callback();\n        }\n      }\n      const validateTreeList = (rule, value, callback) => {\n//        console.log('======')\n        if(this.roleEditConfig.opts.roleFunctionRelations.length < 1){\n          callback(new Error('请选择权限'));\n        }   else {\n          callback();\n        }\n      }\n      const validatePass = (rule, value, callback) => {\n        const reg = /^[a-zA-Z0-9]{6,12}$/g;\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else {\n          if(!value.match(reg)){\n            callback(new Error('密码6-12位字母或数字组成'));\n          }  else {\n            callback();\n//            this.$refs[this.changePwdConfig.opts].validateField('confirmPassword');\n          }\n        }\n      }\n      const validateConfPass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        }\n        else if (value !== this.changePwdConfig.opts.newPassword) {\n          callback(new Error('两次输入密码不一致!'));\n        }\n        else {\n          callback();\n        }\n      }\n      const validateRoleConfPass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        }\n        else if (value !== this.accountRoleConfig.opts.add.password) {\n          callback(new Error('两次输入密码不一致!'));\n        }\n        else {\n          callback();\n        }\n      }\n      const validateCheckList = (rule, value, callback) => {\n        if(this.accountRoleConfig.checkList.length < 1){\n          callback(new Error('请选择角色'));\n        }   else {\n          callback();\n        }\n      }\n      return {\n        dialogClose:false,  //角色编辑\n        changePwdConfig:{\n          isModal:false,\n          type:'',\n          opts:{\n            accountId:'',\n            oldPassword:'',\n            newPassword:'',\n            confirmPassword:'',\n          },\n        }, //密码修改数据\n        changePwdConfigRules:{\n          oldPassword:[\n            { required: true,message: '请输入密码', trigger: 'blur' }\n          ],\n          newPassword:[\n            { required: true, validator: validatePass, trigger: 'blur' },\n          ],\n          confirmPassword:[\n            { required: true, validator: validateConfPass, trigger: 'blur' },\n          ],\n        }, //密码修改规则\n        mapTree:{},\n        treeList:[],\n        defaultProps: {\n          children: 'children',\n          label: 'label'\n        }, //默认选中树状图\n        roleEditConfig:{\n          isModal:false,\n          opts:{\n            id:'',\n            roleName:'',\n            roleDesc:'',\n            roleFunctionRelations:[]\n          },\n          sellerRoleId:'',\n          defaultChecked:[]\n        }, //角色修改数据配置\n        roleEditConfigRules:{\n          roleName:[\n            { required: true, message: '请输入角色名称', trigger: 'blur' }\n          ],\n          roleDesc:[\n            { required: true, message: '请输入角色描述', trigger: 'blur' }\n          ],\n          roleFunctionRelations:[\n            { required: true, validator: validateTreeList, trigger: 'change' }\n          ]\n        },  //角色修改规则\n        accountRoleConfig:{\n          isModal:false,\n          id:'',\n          type:'',\n          opts:{\n            edit:{\n              id:'',\n              accountRoleRelations:[],\n            },\n            add:{\n              username:'',\n              password:'',\n              remark:'',\n              accountRoleRelations:[],\n            }\n          },\n          checkList: []\n        }, //账户修改数据配置\n        accountRoleConfigRules:{\n          username:[\n            { required: true, message: '请输入账户名', trigger: 'blur' }\n          ],\n          password:[\n            { required: true, validator: validatePass, trigger: 'blur' }\n          ],\n          remark:[\n            { required: true, validator:validateRoleConfPass, trigger: 'blur' }\n          ],\n          accountRoleRelations:[\n//            { required: true, type: 'array', message: '请选择角色', trigger: 'change' }\n            { required: true, validator: validateCheckList, trigger: 'change' }\n          ],\n        }, //账户修改规则\n        roleCheckOptions:[],\n        mapRoleID:{},\n        accountListFilter:[],\n        roleClick:false,\n        accountRoleList:[],\n        accountFunList:[]\n      }\n    },\n    computed: {\n      ...mapState(['loginCheck','sellerInfo'])\n    },\n    methods: {\n      ...mapActions(['getAccountList','changeAccountPwd','getAccountRoleList','getAccountFunctionList',\n        'saveAccountRole','delAccountRole','addAccount','changeAccountRole','delAccount',\n        'callSetNotice']),\n//      页面初始化\n      initView(){\n        this.getAccountFunctionList()\n          .then((rs)=>{\n//            权限列表\n            this.accountFunList = rs\n            this.setFunList()\n          })\n        this.callGetAccountRoleList()\n        this.callGetAccountList()\n      },\n//      账户列表\n      callGetAccountList(){\n        this.getAccountList()\n          .then((rs)=>{\n            let arr = JSON.parse(JSON.stringify(rs))\n            this.accountListFilter = arr.filter((item)=>this.loginCheck.id != item.id)\n          })\n      },\n//      角色列表\n      callGetAccountRoleList(){\n        this.getAccountRoleList()\n          .then((rs)=>{\n            this.accountRoleList = rs\n            this.roleCheckOptions = []\n            for(let i in this.accountRoleList){\n                let opt = {\n                  id:this.accountRoleList[i].id,\n                  roleName:this.accountRoleList[i].roleName,\n                }\n              this.mapRoleID[this.accountRoleList[i].id+''] = this.accountRoleList[i].roleName\n              this.roleCheckOptions.push(opt)\n            }\n//            console.log(this.mapRoleID)\n          })\n      },\n//      设置权限本地\n      setFunList(){\n        let childrenList = [];\n        for(let i in this.accountFunList){\n          this.mapTree[this.accountFunList[i].id] = this.accountFunList[i].functionName\n            if(this.accountFunList[i].parentId == 0){\n              let opts = {\n                id:this.accountFunList[i].id,\n                label:this.accountFunList[i].functionName,\n                children:[]\n              }\n              this.treeList.push(opts);\n            } else{\n              childrenList.push(this.accountFunList[i])\n            }\n        }\n        for(let i in childrenList){\n            for(let j in this.treeList){\n                if(childrenList[i].parentId == this.treeList[j].id){\n                  let opts = {\n                    id:childrenList[i].id,\n                    label:childrenList[i].functionName,\n                  }\n                  this.treeList[j].children.push(opts)\n                }\n            }\n        }\n//        console.log(this.treeList)\n      },\n//      取消修改密码\n      cancelChangePwd(){\n        this.changePwdConfig.isModal = false;\n        this.changePwdConfig.opts = {\n          accountId:'',\n          oldPassword:'',\n          newPassword:'',\n          confirmPassword:'',\n        }\n      },\n//      提交密码修改\n      submitChangePwd(formName){\n        let isCheck = false\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            isCheck = true\n          } else {\n            isCheck = false\n            return false;\n          }\n        })\n        if(!isCheck){\n            return false\n        }\n//         if(!this.changePwdConfig.opts.oldPassword || !this.changePwdConfig.opts.newPassword || !this.changePwdConfig.opts.confirmPassword ) {\n//           this.getNotice('密码输入不能为空');\n//             return false\n//         }\n//         const reg = /^[a-zA-Z0-9]{6,12}$/g;\n//          if(!this.changePwdConfig.opts.newPassword.match(reg) || !this.changePwdConfig.opts.confirmPassword.match(reg)){\n//           this.getNotice('密码格式错误6到12位字母或数字');\n//           return false\n//         }\n//         if(this.changePwdConfig.opts.newPassword != this.changePwdConfig.opts.confirmPassword){\n//           this.getNotice('确认密码输入不一致');\n//           return false\n//         }\n         const opts = {\n           accountId:this.changePwdConfig.opts.accountId,\n           oldPassword:this.changePwdConfig.opts.oldPassword,\n           newPassword:this.changePwdConfig.opts.newPassword,\n         }\n//         console.log(opts)\n        this.changeAccountPwd(opts)\n          .then(()=>{\n             this.cancelChangePwd()\n          })\n      },\n//      调用修改密码\n      changePwd(id,pwd){\n        this.changePwdConfig.isModal = true;\n        this.changePwdConfig.opts = {\n          accountId:id,\n          oldPassword:pwd,\n          newPassword:'',\n          confirmPassword:'',\n        }\n        if(!pwd){\n          this.changePwdConfig.type = 'Main'\n        }else{\n          this.changePwdConfig.type = ''\n        }\n      },\n//      调用删除角色\n      callDelRole(id){\n//        delAccountRole\n        const opts = {\n          roleId:id\n        }\n        this.$confirm('是否删除角色', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        }).then(() => {\n          this.delAccountRole(opts)\n            .then(()=>{\n              this.callGetAccountRoleList()\n            })\n        }).catch(() => {\n        });\n      },\n//      调用编辑角色\n      callEditRole(item){\n          let self = this;\n          if(item){\n            let updateList = [],\n                defaultList =[],\n                defaultCheck = [];\n            let _mapTree = {}\n            this.treeList.map((item)=>{\n                if(item.children.length){\n                  _mapTree[item.id] = item.children\n                }\n            })\n            for(let i in item.roleFunctionRelations){\n              if(!_mapTree[item.roleFunctionRelations[i].sellerFuncId]){\n                let defOpt = {\n                  id:item.roleFunctionRelations[i].sellerFuncId,\n                  label:this.mapTree[item.roleFunctionRelations[i].sellerFuncId]\n                }\n                defaultCheck.push(defOpt)\n              }\n\n            }\n\n            this.roleEditConfig.opts = {\n              id:item.id,\n              roleName:item.roleName,\n              roleDesc:item.roleDesc,\n//              roleFunctionRelations:updateList\n              roleFunctionRelations:[]\n            }\n//            this.roleEditConfig.defaultChecked = defaultList\n            this.roleEditConfig.sellerRoleId = item.id\n            this.roleEditConfig.isModal = true\n            let self = this;\n            setTimeout(function(){\n              self.$refs.tree.setCheckedNodes(defaultCheck);\n            },100)\n//            console.log(this.roleEditConfig.defaultChecked)\n          }\n          else{\n            this.roleEditConfig.opts = {\n              id:'',\n              roleName:'',\n              roleDesc:'',\n              roleFunctionRelations:[]\n            }\n            this.roleEditConfig.sellerRoleId = ''\n//            this.roleEditConfig.defaultChecked = []\n            this.roleEditConfig.isModal = true\n            let self = this;\n            setTimeout(function(){\n              self.$refs.tree.setCheckedNodes([]);\n            },10)\n          }\n\n      },\n//      取消编辑角色\n      cancelRole(){\n        this.roleEditConfig.opts = {\n          id:'',\n          roleName:'',\n          roleDesc:'',\n          roleFunctionRelations:[]\n        }\n        this.roleEditConfig.sellerRoleId = ''\n//        this.roleEditConfig.defaultChecked = []\n        this.$refs.tree.setCheckedNodes([]);\n        this.$refs['roleEditConfig.opts'].resetFields()\n        this.roleEditConfig.isModal = false\n      },\n//      提交编辑角色\n      submitRole(formName){\n//        if(!this.roleEditConfig.opts.roleName){\n//          this.getNotice('不能为空');\n//          return false\n//        }\n//        if(!this.roleEditConfig.opts.roleDesc){\n//          this.getNotice('描述不能为空');\n//          return false\n//        }\n        let isCheck = false\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            isCheck = true\n          } else {\n            isCheck = false\n            return false;\n          }\n        });\n        if(!isCheck){\n            return false\n        }\n//        if(this.roleEditConfig.opts.roleFunctionRelations.length<1){\n//          this.getNotice('请选择权限');\n//          return false\n//        }\n        let _optObj = {}\n        this.roleEditConfig.opts.roleFunctionRelations.map((item)=>{\n          _optObj[item.sellerFuncId] = item.sellerFuncId\n        })\n        let _other = {}\n        this.treeList.map((item)=>{\n          if(item.children.length){\n            item.children.map((subItem)=>{\n              if(_optObj[subItem.id] && !_optObj[item.id]){\n                _other[item.id] = item.id\n              }\n            })\n          }\n        })\n        for(let i in _other){\n          let _opts = {\n            sellerRoleId: this.roleEditConfig.opts.roleFunctionRelations[0].sellerRoleId,\n            sellerFuncId: _other[i],\n          }\n          this.roleEditConfig.opts.roleFunctionRelations.push(_opts)\n        }\n\n//        return false\n//        this.roleEditConfig.opts.roleFunctionRelations.push(_opts)\n        this.saveAccountRole(this.roleEditConfig.opts)\n          .then(()=>{\n            this.callGetAccountRoleList()\n            this.cancelRole()\n          })\n      },\n//      角色树状图选择\n      checkedTree(data, checked, indeterminate){\n//          console.log(checked)\n//          console.log(data)\n//          console.log(data.id,data.label,checked)\n          if(checked){\n            let opt = {\n//              id:'',\n              sellerRoleId:this.roleEditConfig.sellerRoleId,\n              sellerFuncId:data.id,\n            }\n            this.roleEditConfig.opts.roleFunctionRelations.push(opt)\n          }\n          if(!checked){\n            let idx = this.roleEditConfig.opts.roleFunctionRelations.findIndex((element)=> element.sellerFuncId == data.id)\n            if(idx > -1){\n              this.roleEditConfig.opts.roleFunctionRelations.splice(idx,1)\n            }\n          }\n//          let s = '---'\n//          for(let i in this.roleEditConfig.opts.roleFunctionRelations){\n//              s += this.roleEditConfig.opts.roleFunctionRelations[i].label+'---'\n//          }\n//          console.log(s)\n//          console.log(this.roleEditConfig.opts.roleFunctionRelations)\n      },\n//      取消修改账户\n      cancelEditAccount(){\n        this.accountRoleConfig.type = ''\n        this.accountRoleConfig.id = ''\n        this.accountRoleConfig.opts.add.accountRoleRelations = []\n        this.accountRoleConfig.opts.edit.accountRoleRelations = []\n        this.accountRoleConfig.isModal = false\n      },\n//      调用修改账户\n      callEditAccount(item){\n        this.accountRoleConfig.checkList = []\n        if(item){\n          this.accountRoleConfig.type = 'edit'\n          this.accountRoleConfig.id = item.id\n          for(let i in item.accountRoleRelations){\n              for(let j in this.accountRoleList){\n                  if(item.accountRoleRelations[i].sellerRoleId == this.accountRoleList[j].id){\n                    this.accountRoleConfig.checkList.push(this.accountRoleList[j].roleName)\n                  }\n              }\n          }\n          this.accountRoleConfig.opts.add.accountRoleRelations = this.accountRoleConfig.checkList\n          this.accountRoleConfig.opts.edit.accountRoleRelations = this.accountRoleConfig.checkList\n        } else{\n          this.accountRoleConfig.type = 'add'\n        }\n        this.accountRoleConfig.isModal = true\n      },\n//      提交修改账户\n      submitEditAccount(formName){\n        let isCheck = false\n        let accountRoleList = []\n        for(let i in this.accountRoleConfig.checkList){\n          for(let j in this.accountRoleList){\n            if(this.accountRoleConfig.checkList[i] == this.accountRoleList[j].roleName){\n              let opts = {\n                id:'',\n                sellerAccountId:this.accountRoleConfig.id,\n                sellerRoleId:this.accountRoleList[j].id\n              }\n              accountRoleList.push(opts)\n            }\n          }\n        }\n        this.accountRoleConfig.opts.add.accountRoleRelations = accountRoleList\n        this.accountRoleConfig.opts.edit.accountRoleRelations = accountRoleList\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            isCheck = true\n          } else {\n            isCheck = false\n            return false;\n          }\n        });\n        if(!isCheck){\n          return false\n        }\n        const type =  this.accountRoleConfig.type\n//        console.log(type)\n//        console.log(this.accountRoleConfig.checkList)\n        if(type == 'add'){\n//            if(!this.accountRoleConfig.opts.add.username || !this.accountRoleConfig.opts.add.password || !this.accountRoleConfig.opts.add.remark){\n//              this.getNotice('不能为空');\n//                return false;\n//            }\n//          const reg = /^[a-zA-Z0-9]{6,12}$/g;\n//            if(!this.accountRoleConfig.opts.add.password.match(reg) || !this.accountRoleConfig.opts.add.remark.match(reg)){\n//              this.getNotice('格式不正确6-12位字母或数字');\n//              return false\n//            }\n//            if(this.accountRoleConfig.opts.add.password != this.accountRoleConfig.opts.add.remark){\n//              this.getNotice('确认密码不相等');\n//                return false\n//            }\n//            if(accountRoleList.length<1){\n//              this.getNotice('请选择角色');\n//              return false\n//            }\n            const opts = {\n              username:this.accountRoleConfig.opts.add.username,\n              password:this.accountRoleConfig.opts.add.password,\n              remark:this.accountRoleConfig.opts.add.remark,\n              accountRoleRelations:accountRoleList,\n            }\n          this.addAccount(opts)\n            .then(()=>{\n              this.callGetAccountList()\n              this.cancelEditAccount()\n            })\n//            console.log(opts)\n        }\n        else if(type == 'edit'){\n//          if(accountRoleList.length<1){\n//            this.getNotice('请选择角色');\n//            return false\n//          }\n          const opts = {\n            id:this.accountRoleConfig.id,\n            accountRoleRelations:accountRoleList,\n          }\n          this.changeAccountRole(opts)\n            .then(()=>{\n              this.callGetAccountList()\n              this.cancelEditAccount()\n            })\n//          console.log(opts)\n        }\n      },\n//      删除账户\n      callDelAccount(id,name){\n        const opts = {\n          accountId:id\n        }\n        this.$confirm('是否删除账号 '+name, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        }).then(() => {\n          this.delAccount(opts)\n            .then(()=>{\n              this.callGetAccountList()\n            })\n        }).catch(() => {\n        });\n      },\n//      错误提示\n      getNotice(msg){\n        const notice = {\n          isShow:true,\n          msg:msg,\n        }\n        this.callSetNotice(notice)\n      },\n    }\n  }\n</script>\n<style scoped lang='less' rel=\"stylesheet/less\">\n  .section-item{\n    padding: 0;\n    .section-title{\n      padding: 10px 20px;\n      .block-item{\n        float: right;\n        padding: 0;\n      }\n    }\n    &.padding{\n      padding-left: 20px;\n      .section-title{\n        padding: 10px 0;\n      }\n    }\n  }\n  .result-view{\n    margin-bottom: 20px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/accountManage/authority.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9a8d6b08\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./authority.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./authority.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./authority.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9a8d6b08\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./authority.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9a8d6b08\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/accountManage/authority.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}