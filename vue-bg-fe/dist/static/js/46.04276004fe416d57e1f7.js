webpackJsonp([46],{KXkv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),a=i.n(s),n=i("Dd8w"),l=i.n(n),o=i("NYxO"),c=i("DIng"),r={name:"editBusinessInfo",computed:l()({},Object(o.mapState)(["sellerBaseInfo","sellerQualification"])),created:function(){this.initView()},data:function(){return{editBaseInfo:{},baseInfoReady:!1,mapSellerContactType:{1:"发货联系人",2:"售后联系人",3:"运营联系人",4:"结算联系人",5:"业务对接人"},configBaseInfo:{sellerMain:[{key:"receiveBankAccount",label:"收款账号",placeholder:"字数限制50字"},{key:"receiveBank",label:"开户行",placeholder:"字数限制50字"},{key:"receiveName",label:"收款方名称",placeholder:"字数限制50字"},{key:"swiftCode",label:"银行国际代码",placeholder:"字数限制50字"},{key:"bankAddress",label:"银行地址",placeholder:"字数限制50字"}],sellerContacts:[{label:"对接人类型",key:"type",type:"span",width:""},{label:"*姓名",key:"contactName",type:"input",width:"170"},{label:"*手机号",key:"contactPhone",type:"input",width:"170"},{label:"*QQ",key:"qq",type:"input",width:"170"},{label:"*邮箱",key:"email",type:"input",width:"170"},{label:"微信",key:"weixin",type:"input",width:"170"}]},qualificationList:{}}},methods:l()({},Object(o.mapActions)(["getSellerBaseInfo","saveSellerBaseInfo","callSetNotice","setEditWithMsg"]),{initView:function(){var e=this;this.getSellerBaseInfo().then(function(t){e.editBaseInfo=JSON.parse(a()(t)),e.qualificationList=[{key:"businessImgs",list:e.editBaseInfo.businessImgs,limit:1,label:"营业执照（副本）",success:"handleBusinessSuccess",before:"beforeBusinessUpload"},{key:"foodCirculationImgs",list:e.editBaseInfo.foodCirculationImgs,limit:1,label:"食品流通许可证（副本）",success:"handleFoodCirculationSuccess",before:"beforeFoodCirculationUpload"},{key:"companyRegistrationImgs",list:e.editBaseInfo.companyRegistrationImgs,limit:5,label:"公司注册证明书",success:"handleCompanyRegistrationSuccess",before:"beforeCompanyRegistrationUpload"}],e.baseInfoReady=!0})},submitInfo:function(){var e=this;for(var t in this.editBaseInfo.businessImgs=this.sellerQualification.businessImgs,this.editBaseInfo.foodCirculationImgs=this.sellerQualification.foodCirculationImgs,this.editBaseInfo.companyRegistrationImgs=this.sellerQualification.companyRegistrationImgs,this.configBaseInfo.sellerMain){var i=this.configBaseInfo.sellerMain[t];if(!this.editBaseInfo.sellerMain[i.key])return this.getNotice("请填写"+i.label),!1;if(this.editBaseInfo.sellerMain[i.key].length>50)return this.getNotice(i.label+"字数小于50字"),!1}for(var s in this.editBaseInfo.sellerContacts){var a=this.editBaseInfo.sellerContacts[s];if(delete a.createTime,delete a.updateTime,delete a.remark,!(a.contactName&&a.contactPhone&&a.qq&&a.email&&a.weixin))return this.getNotice("请完善"+this.mapSellerContactType[a.type]+"必填信息"),!1}this.saveSellerBaseInfo(this.editBaseInfo).then(function(){e.setEditWithMsg(!0),e.$router.push({path:"/operate/condition"})})},getNotice:function(e){var t={isShow:!0,msg:e};this.callSetNotice(t)}}),components:{vQual:c.a}},f=i("Nqmk"),u=i.n(f);var d=function(e){i("Upy4")},m=i("VU/8")(r,u.a,!1,d,"data-v-13adf8e8",null);t.default=m.exports},Nqmk:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._m(0),e._v(" "),e.baseInfoReady?i("div",{staticClass:"section"},[i("div",{staticClass:"section-item"},[e._m(1),e._v(" "),e._l(e.configBaseInfo.sellerMain,function(t){return i("div",{staticClass:"block-item"},[i("span",{staticClass:"section-item-sign"},[e._v(e._s(t.label)+"：")]),e._v(" "),i("div",{staticClass:"inline-item"},[i("el-input",{staticClass:"input-item-large",attrs:{placeholder:t.placeholder,size:"small"},model:{value:e.editBaseInfo.sellerMain[t.key],callback:function(i){e.$set(e.editBaseInfo.sellerMain,t.key,i)},expression:"editBaseInfo.sellerMain[item.key]"}})],1)])})],2),e._v(" "),i("div",{staticClass:"section-item"},[e._m(2),e._v(" "),i("div",{staticClass:"result-view mg-t"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.editBaseInfo.sellerContacts}},[e._l(e.configBaseInfo.sellerContacts,function(t){return[i("el-table-column",{attrs:{label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(s){return["input"==t.type?i("div",[i("el-input",{staticClass:"input-item-middle",attrs:{size:"small"},model:{value:s.row[t.key],callback:function(i){e.$set(s.row,t.key,i)},expression:"scope.row[configItem.key]"}})],1):i("span",[e._v("\n                 "+e._s(e.mapSellerContactType[s.row[t.key]])+"\n               ")])]}}])})]})],2)],1)]),e._v(" "),i("div",{staticClass:"section-item"},[e._m(3),e._v(" "),i("v-qual",{attrs:{qualificationList:e.qualificationList}})],1),e._v(" "),i("section",{staticClass:"menu-center"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submitInfo}},[e._v("确认无误并提交")])],1)]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",[this._v("完善基本信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"section-title"},[t("span",[this._v("结算账户信息（所有信息必填）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"section-title"},[t("span",[this._v("对接人信息（标*为必填信息）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"section-title"},[t("span",[this._v("资质信息（宽度620px，高度不限，jpg格式）")])])}]}},Upy4:function(e,t){}});
//# sourceMappingURL=46.04276004fe416d57e1f7.js.map