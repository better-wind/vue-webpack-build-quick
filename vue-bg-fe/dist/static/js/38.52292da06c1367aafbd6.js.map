{"version":3,"sources":["webpack:///src/pages/invoiceManage/invoiceDetail.vue","webpack:///./src/pages/invoiceManage/invoiceDetail.vue","webpack:///./src/pages/invoiceManage/invoiceDetail.vue?cb84"],"names":["initView","methods","extends_default","Object","vuex_esm","operateNumber","setInvoiceDetail","getOrderList","_this","this","then","rs","_this2","orderParams","_opts","rows","total","val","_this3","getLogisticsChannel","_this4","_this5","modalEdit","params","code","match","reg","number","cancelEdit","msg","notice","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","invoiceDetail","invoiceDetail_default","a","__webpack_exports__","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","type","size","on","click","$event","toExport","status","editInvoice","_e","_s","auditTime","mapStatus","_m","staticStyle","width","data","orderList","list","_l","invoiceConfig","item","key","label","prop","align","current-page","page","page-sizes","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","headType","taxHead","taxpayerCode","invoiceMsg","sendType","title","visible","isShow","update:visible","$set","placeholder","model","value","callback","$$v","trim","expression","filterable","clearable","subItem","desc","slot","submitEdit","staticRenderFns"],"mappings":"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","file":"static/js/38.52292da06c1367aafbd6.js","sourcesContent":["<template>\n  <div>\n    <div class=\"title\">\n      <span>开票详情</span>\n      <div class=\"fl-r pd-r\">\n        <el-button type=\"primary\" @click=\"toExport()\" size=\"small\">导出开票明细</el-button>\n        <el-button v-if=\"invoiceDetail.status == 1\" type=\"primary\" @click=\"editInvoice()\" size=\"small\">填写发票信息</el-button>\n      </div>\n    </div>\n    <div class=\"section\" v-if=\"invoiceReady\">\n      <div class=\"section-item\">\n        <div class=\"inline-item\">\n          <span>推送时间：{{invoiceDetail.auditTime}}</span>\n        </div>\n        <div class=\"inline-item\">\n          <span>开票进度：{{mapStatus.status[invoiceDetail.status]}}</span>\n        </div>\n        <div class=\"section-title\">\n          <span>订单信息</span>\n        </div>\n        <div class=\"result-view mg-t-h\">\n          <el-table :data=\"orderList.list\" style=\"width: 100%;\">\n            <template v-for=\"(item,key) in invoiceConfig.orderList\">\n              <el-table-column :label=\"item.label\"  :prop=\"item.key\" align=\"center\"></el-table-column>\n            </template>\n          </el-table>\n        </div>\n        <el-pagination class=\"mg-t-h\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"orderParams.page\"\n          :page-sizes=\"[5]\"\n          :page-size=\"orderParams.rows\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"orderList.total\">\n        </el-pagination>\n      </div>\n\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>开票信息</span>\n        </div>\n        <div class=\"detail-box billing-msg\">\n          <div class=\"block-item\">\n            <span class=\"detail-sign\">发票类型：</span>\n            {{mapStatus.type[invoiceDetail.type] ? mapStatus.type[invoiceDetail.type] : '暂无信息'}}\n          </div>\n          <!--普通发票-->\n          <template v-if=\"invoiceDetail.type == 0\">\n            <!--个人&&单位-->\n            <div  class=\"block-item\">\n              <span class=\"detail-sign\">{{invoiceDetail.headType == 0 ? '发票抬头(个人)' : '发票抬头(单位)'}}：</span>\n              {{invoiceDetail.taxHead}}\n            </div>\n            <!--单位-->\n            <div  class=\"block-item\" v-if=\"invoiceDetail.headType == 1\">\n              <span class=\"detail-sign\">纳税人注册码：</span>\n              {{invoiceDetail.taxpayerCode}}\n            </div>\n          </template>\n          <!--专用发票-->\n          <template v-else>\n            <div v-for=\"(item,key) in invoiceConfig.billingMsg\" class=\"block-item\">\n              <span class=\"detail-sign\">{{item.label}}：</span>\n              {{invoiceDetail[item.key] ? invoiceDetail[item.key] : '暂无信息'}}\n            </div>\n          </template>\n        </div>\n      </div>\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>收票信息</span>\n        </div>\n        <div class=\"detail-box\">\n          <div v-for=\"(item,key) in invoiceConfig.checkMsg\" class=\"block-item\">\n            <span class=\"detail-sign\">{{item.label}}：</span>\n            {{invoiceDetail[item.key] ? invoiceDetail[item.key] : '暂无信息'}}\n          </div>\n        </div>\n      </div>\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>发票信息</span>\n        </div>\n        <div class=\"detail-box\">\n          <template v-if=\"invoiceDetail.status == 3\">\n            <div v-for=\"(item,key) in invoiceConfig.invoiceMsg[2]\" class=\"block-item\">\n              <span class=\"detail-sign\">{{item.label}}：</span>\n              {{invoiceDetail[item.key]}}\n            </div>\n            <div  class=\"block-item\">\n              <span class=\"detail-sign\">出票类型：</span>\n              {{mapStatus.sendType[invoiceDetail.sendType]}}\n            </div>\n            <div v-for=\"(item,key) in invoiceConfig.invoiceMsg[invoiceDetail.sendType]\" class=\"block-item\">\n              <span class=\"detail-sign\">{{item.label}}：</span>\n              {{invoiceDetail[item.key]}}\n            </div>\n\n          </template>\n          <span v-else>暂无</span>\n        </div>\n      </div>\n      <div class=\"modal\">\n        <el-dialog class=\"edit-model\" title=\"发票信息\" :visible.sync=\"modalEdit.isShow\" size=\"middle\">\n          <div class=\"section\">\n            <div class=\"block-item\">\n              <span>发票代码：</span>\n              <el-input class=\"edit-input\" v-model.trim=\"modalEdit.params.code\" size=\"small\" placeholder=\"请输入内容\"></el-input>\n            </div>\n            <div class=\"block-item\">\n              <span>发票号码：</span>\n              <el-input class=\"edit-input\" v-model.trim=\"modalEdit.params.number\" size=\"small\" placeholder=\"请输入内容\"></el-input>\n            </div>\n            <div class=\"block-item\">\n              <span>出票类型：</span>\n              <el-radio class=\"radio\" v-model=\"modalEdit.params.sendType\" :label=0>纸质发票</el-radio>\n              <el-radio class=\"radio\" v-model=\"modalEdit.params.sendType\" :label=1>电子发票</el-radio>\n            </div>\n            <template v-if=\"modalEdit.params.sendType == 0\">\n              <div class=\"block-item\">\n                <span>快递公司：</span>\n                <el-select filterable clearable class=\"edit-input\" size=\"small\" v-model=\"modalEdit.params.logisticsChannel\" placeholder=\"请选择快递公司\">\n                  <template v-for=\"subItem in logisticsChannelList\">\n                    <el-option  :label=\"subItem.desc\" :value=\"subItem.desc\"></el-option>\n                  </template>\n                </el-select>\n                <!--<el-input class=\"edit-input\" v-model.trim=\"modalEdit.params.logisticsChannel\" size=\"small\" placeholder=\"请输入内容\"></el-input>-->\n              </div>\n              <div class=\"block-item\">\n                <span>快递单号：</span>\n                <el-input class=\"edit-input\" v-model.trim=\"modalEdit.params.logisticsNumber\" size=\"small\" placeholder=\"请输入内容\"></el-input>\n              </div>\n            </template>\n            <template v-else>\n              <div class=\"block-item\">\n                <span>备注：</span>\n                <el-input class=\"edit-input\" v-model.trim=\"modalEdit.params.remark\" size=\"small\" placeholder=\"请输入内容\"></el-input>\n              </div>\n            </template>\n\n          </div>\n          <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button  @click=\"cancelEdit()\">取消</el-button>\n            <el-button type=\"primary\" @click=\"submitEdit()\">确定</el-button>\n          </div>\n        </el-dialog>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  import {mapState, mapActions} from 'vuex'\n  export default{\n    created(){\n      this.initView()\n    },\n    data:()=>({\n      invoiceReady:false,\n      invoiceDetail:{},\n      mapStatus:{\n        status:{\n          0:'待审核',\n          1:'待开票',\n          2:'待修改',\n          3:'开票完成',\n          4:'开票取消'\n        },\n        type:{\n          0:'普通发票',\n          1:'专用发票'\n        },\n        sendType:{\n          0:'纸质发票',\n          1:'电子发票'\n        }\n      },\n      orderList:{\n        total:20,\n        list:[]\n      },\n      orderParams:{\n        page:1,\n        rows:5\n      },\n      invoiceConfig:{\n        billingMsg:[\n          {\n            label:'单位名称',\n            key:'taxHead'\n          },{\n            label:'纳税人识别码',\n            key:'taxpayerCode'\n          },{\n            label:'注册地址',\n            key:'registerAddress'\n          },{\n            label:'注册电话',\n            key:'registerPhone'\n          },{\n            label:'开户银行',\n            key:'bankName'\n          },{\n            label:'银行账户',\n            key:'bankAccount'\n          },\n        ],\n        checkMsg:[\n          {\n            label:'收票人姓名',\n            key:'receivePerson'\n          },{\n            label:'收票人手机',\n            key:'receivePhone'\n          },{\n            label:'电子邮箱',\n            key:'receiveEmail'\n          },{\n            label:'收票人省份',\n            key:'provinceCityDistrict'\n          },{\n            label:'详细地址',\n            key:'receiveAddress'\n          }\n        ],\n        orderList:[\n          {\n            label:'订单编号',\n            key:'orderNumber'\n          },{\n            label:'发货地',\n            key:'sendingAddress'\n          },{\n            label:'商品实付金额（元）',\n            key:'productRealPrice'\n          },{\n            label:'运费（元）',\n            key:'freightMoney'\n          },{\n            label:'开票金额（元）',\n            key:'applyMoney'\n          },\n        ],\n        invoiceMsg:{\n          0:[\n            {\n              label:'快递公司',\n              key:'logisticsChannel'\n            },{\n              label:'快递单号',\n              key:'logisticsNumber'\n            }\n          ],\n          1:[\n            {\n              label:'备注',\n              key:'remark'\n            }\n          ],\n          2:[\n            {\n              label:'发票代码',\n              key:'code'\n            },{\n              label:'发票号码',\n              key:'number'\n            },\n          ],\n        }\n      },\n      modalEdit:{\n        isShow:false,\n        params:{\n          operateNumber:'',\n          code:'',\n          number:'',\n          sendType:0,\n          logisticsChannel:'',\n          logisticsNumber:'',\n          remark:'已发送用户邮箱'\n        },\n      },\n      logisticsChannelList:[]\n    }),\n    methods:{\n      ...mapActions(['getLogisticsChannel','getInvoiceOrder','exportInvoice','getInvoiceDetail','callSetNotice','commitInvoice']),\n      initView(){\n        const operateNumber = this.$route.query.operateNumber\n        this.operateNumber = operateNumber\n        this.setInvoiceDetail()\n        this.getOrderList()\n      },\n      setInvoiceDetail(){\n        this.getInvoiceDetail({operateNumber:this.operateNumber})\n          .then((rs)=>{\n            this.invoiceDetail = rs\n            this.invoiceReady = true\n          })\n      },\n      getOrderList(){\n        let operateNumber = this.operateNumber\n        let _opts = {\n          ...this.orderParams,\n          operateNumber\n        }\n        this.getInvoiceOrder(_opts)\n          .then((rs)=>{\n            this.orderList.list = rs.rows\n            this.orderList.total = rs.total\n          })\n      },\n      handleSizeChange(val) {\n        this.orderParams.rows = val;\n        this.getOrderList()\n      },\n      handleCurrentChange(val) {\n        this.orderParams.page = val;\n        this.getOrderList()\n      },\n      toExport(){\n        this.exportInvoice({operateNumber:this.operateNumber})\n      },\n      editInvoice(){\n        if(this.logisticsChannelList.length){\n          this.modalEdit.isShow = true\n          return\n        }\n        this.getLogisticsChannel()\n          .then((rs)=>{\n            this.logisticsChannelList = rs\n            this.modalEdit.isShow = true\n          })\n      },\n      cancelEdit(){\n        this.modalEdit.isShow = false\n        this.$nextTick(()=>{\n          this.modalEdit.params = {\n            operateNumber:'',\n            code:'',\n            number:'',\n            sendType:0,\n            logisticsChannel:'',\n            logisticsNumber:'',\n            remark:'已发送用户邮箱'\n          }\n        })\n      },\n      submitEdit(){\n        const reg = /^[0-9a-zA-Z]+$/g\n        if(!this.modalEdit.params.code){\n          this.getNotice('请填写发票代码')\n          return false\n        }\n        else if(!this.modalEdit.params.code.match(reg)){\n          this.getNotice('发票代码只能输入字母和数字')\n          return false\n        }\n        else if(!this.modalEdit.params.number){\n          this.getNotice('请填写发票号码')\n          return false\n        }\n        else if(!this.modalEdit.params.number.match(reg)){\n          this.getNotice('发票号码只能输入字母和数字')\n          return false\n        }\n        if(this.modalEdit.params.sendType == 0 && !this.modalEdit.params.logisticsChannel){\n          this.getNotice('请填写物流公司')\n          return false\n        }\n        if(this.modalEdit.params.sendType == 0 && !this.modalEdit.params.logisticsNumber){\n          this.getNotice('请填写物流单号')\n          return false\n        }\n        if(this.modalEdit.params.sendType == 0 && !this.modalEdit.params.logisticsNumber.match(reg)){\n          this.getNotice('物流单号只能输入字母和数字')\n          return false\n        }\n        if(this.modalEdit.params.sendType == 1 && !this.modalEdit.params.remark){\n          this.getNotice('请填写备注')\n          return false\n        }\n        this.modalEdit.params.operateNumber = this.operateNumber\n        this.commitInvoice(this.modalEdit.params)\n          .then((rs)=>{\n            this.cancelEdit()\n            this.getNotice('开票成功')\n            this.setInvoiceDetail()\n          })\n//        this.$store.dispatch('commitInvoice',this.modalEdit.params)\n\n      },\n      getNotice(msg){\n        const notice = {\n          isShow:true,\n          msg:msg,\n        }\n        this.callSetNotice(notice)\n      },\n    }\n  }\n</script>\n<style lang=\"less\" rel=\"stylesheet/less\" scoped>\n  .detail-box{\n    margin:10px 20px 0 0;\n    padding-left: 20px;\n    background-color: #f5f5f5;\n    .detail-sign{\n      display: inline-block;\n      max-width: 110px;\n      min-width: 84px;\n    }\n  }\n  .billing-msg{\n    .detail-sign{\n      /*width: 100px;*/\n      /*text-align: right;*/\n    }\n  }\n  .edit-model{\n     .block-item{\n       span{\n         width: 80px;\n         display: inline-block;\n         margin: 0 0 10px 0;\n         &:before{\n           content: '*';\n           color: #fb4b4d;\n         }\n       }\n       .edit-input{\n         width: 220px;\n         margin: 0 0 10px 0;\n       }\n     }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/invoiceManage/invoiceDetail.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7bca350f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./invoiceDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./invoiceDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./invoiceDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7bca350f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./invoiceDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7bca350f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/invoiceManage/invoiceDetail.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"开票详情\")]),_vm._v(\" \"),_c('div',{staticClass:\"fl-r pd-r\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.toExport()}}},[_vm._v(\"导出开票明细\")]),_vm._v(\" \"),(_vm.invoiceDetail.status == 1)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.editInvoice()}}},[_vm._v(\"填写发票信息\")]):_vm._e()],1)]),_vm._v(\" \"),(_vm.invoiceReady)?_c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"section-item\"},[_c('div',{staticClass:\"inline-item\"},[_c('span',[_vm._v(\"推送时间：\"+_vm._s(_vm.invoiceDetail.auditTime))])]),_vm._v(\" \"),_c('div',{staticClass:\"inline-item\"},[_c('span',[_vm._v(\"开票进度：\"+_vm._s(_vm.mapStatus.status[_vm.invoiceDetail.status]))])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"result-view mg-t-h\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.orderList.list}},[_vm._l((_vm.invoiceConfig.orderList),function(item,key){return [_c('el-table-column',{attrs:{\"label\":item.label,\"prop\":item.key,\"align\":\"center\"}})]})],2)],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"mg-t-h\",attrs:{\"current-page\":_vm.orderParams.page,\"page-sizes\":[5],\"page-size\":_vm.orderParams.rows,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.orderList.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"section-item\"},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"detail-box billing-msg\"},[_c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(\"发票类型：\")]),_vm._v(\"\\n          \"+_vm._s(_vm.mapStatus.type[_vm.invoiceDetail.type] ? _vm.mapStatus.type[_vm.invoiceDetail.type] : '暂无信息')+\"\\n        \")]),_vm._v(\" \"),(_vm.invoiceDetail.type == 0)?[_c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(_vm._s(_vm.invoiceDetail.headType == 0 ? '发票抬头(个人)' : '发票抬头(单位)')+\"：\")]),_vm._v(\"\\n            \"+_vm._s(_vm.invoiceDetail.taxHead)+\"\\n          \")]),_vm._v(\" \"),(_vm.invoiceDetail.headType == 1)?_c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(\"纳税人注册码：\")]),_vm._v(\"\\n            \"+_vm._s(_vm.invoiceDetail.taxpayerCode)+\"\\n          \")]):_vm._e()]:_vm._l((_vm.invoiceConfig.billingMsg),function(item,key){return _c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(_vm._s(item.label)+\"：\")]),_vm._v(\"\\n            \"+_vm._s(_vm.invoiceDetail[item.key] ? _vm.invoiceDetail[item.key] : '暂无信息')+\"\\n          \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"section-item\"},[_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"detail-box\"},_vm._l((_vm.invoiceConfig.checkMsg),function(item,key){return _c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(_vm._s(item.label)+\"：\")]),_vm._v(\"\\n          \"+_vm._s(_vm.invoiceDetail[item.key] ? _vm.invoiceDetail[item.key] : '暂无信息')+\"\\n        \")])}))]),_vm._v(\" \"),_c('div',{staticClass:\"section-item\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"detail-box\"},[(_vm.invoiceDetail.status == 3)?[_vm._l((_vm.invoiceConfig.invoiceMsg[2]),function(item,key){return _c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(_vm._s(item.label)+\"：\")]),_vm._v(\"\\n            \"+_vm._s(_vm.invoiceDetail[item.key])+\"\\n          \")])}),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(\"出票类型：\")]),_vm._v(\"\\n            \"+_vm._s(_vm.mapStatus.sendType[_vm.invoiceDetail.sendType])+\"\\n          \")]),_vm._v(\" \"),_vm._l((_vm.invoiceConfig.invoiceMsg[_vm.invoiceDetail.sendType]),function(item,key){return _c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"detail-sign\"},[_vm._v(_vm._s(item.label)+\"：\")]),_vm._v(\"\\n            \"+_vm._s(_vm.invoiceDetail[item.key])+\"\\n          \")])})]:_c('span',[_vm._v(\"暂无\")])],2)]),_vm._v(\" \"),_c('div',{staticClass:\"modal\"},[_c('el-dialog',{staticClass:\"edit-model\",attrs:{\"title\":\"发票信息\",\"visible\":_vm.modalEdit.isShow,\"size\":\"middle\"},on:{\"update:visible\":function($event){_vm.$set(_vm.modalEdit, \"isShow\", $event)}}},[_c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"block-item\"},[_c('span',[_vm._v(\"发票代码：\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"edit-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.modalEdit.params.code),callback:function ($$v) {_vm.$set(_vm.modalEdit.params, \"code\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"modalEdit.params.code\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_c('span',[_vm._v(\"发票号码：\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"edit-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.modalEdit.params.number),callback:function ($$v) {_vm.$set(_vm.modalEdit.params, \"number\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"modalEdit.params.number\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_c('span',[_vm._v(\"出票类型：\")]),_vm._v(\" \"),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":0},model:{value:(_vm.modalEdit.params.sendType),callback:function ($$v) {_vm.$set(_vm.modalEdit.params, \"sendType\", $$v)},expression:\"modalEdit.params.sendType\"}},[_vm._v(\"纸质发票\")]),_vm._v(\" \"),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":1},model:{value:(_vm.modalEdit.params.sendType),callback:function ($$v) {_vm.$set(_vm.modalEdit.params, \"sendType\", $$v)},expression:\"modalEdit.params.sendType\"}},[_vm._v(\"电子发票\")])],1),_vm._v(\" \"),(_vm.modalEdit.params.sendType == 0)?[_c('div',{staticClass:\"block-item\"},[_c('span',[_vm._v(\"快递公司：\")]),_vm._v(\" \"),_c('el-select',{staticClass:\"edit-input\",attrs:{\"filterable\":\"\",\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请选择快递公司\"},model:{value:(_vm.modalEdit.params.logisticsChannel),callback:function ($$v) {_vm.$set(_vm.modalEdit.params, \"logisticsChannel\", $$v)},expression:\"modalEdit.params.logisticsChannel\"}},[_vm._l((_vm.logisticsChannelList),function(subItem){return [_c('el-option',{attrs:{\"label\":subItem.desc,\"value\":subItem.desc}})]})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"block-item\"},[_c('span',[_vm._v(\"快递单号：\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"edit-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.modalEdit.params.logisticsNumber),callback:function ($$v) {_vm.$set(_vm.modalEdit.params, \"logisticsNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"modalEdit.params.logisticsNumber\"}})],1)]:[_c('div',{staticClass:\"block-item\"},[_c('span',[_vm._v(\"备注：\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"edit-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入内容\"},model:{value:(_vm.modalEdit.params.remark),callback:function ($$v) {_vm.$set(_vm.modalEdit.params, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"modalEdit.params.remark\"}})],1)]],2),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.cancelEdit()}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitEdit()}}},[_vm._v(\"确定\")])],1)])],1)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"订单信息\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"开票信息\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"收票信息\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"发票信息\")])])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7bca350f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/invoiceManage/invoiceDetail.vue\n// module id = ZdUH\n// module chunks = 38"],"sourceRoot":""}