webpackJsonp([46],{KCp5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),i=a.n(l),n=a("dJOE"),r=a("NOQh"),s=a("7sCf"),o=a("NYxO"),c={name:"orderMarket",created:function(){this.initSearch()},filters:{filterFileSize:function(e){return e<1024?e+"KB":(e/1024).toFixed(1).replace(/\.?0+$/,"")+"M"}},data:function(){return{orderSearch:{resultItem:{option:[{label:"文件名",key:"fileName"},{label:"文件大小",key:"fileSize"},{label:"创建时间",key:"createTime"},{label:"下载状态",key:"status"},{label:"操作",key:"fileUrl"}]}},tableList:[],mapStatus:{0:"正在下载",1:"下载完成",2:"下载失败"},loading:!0}},methods:i()({},Object(o.b)(["getOrderExportTaskList"]),{initSearch:function(){var e=this;this.getOrderExportTaskList().then(function(t){e.loading=!1,e.tableList=t,e.checkDown(t)})},checkDown:function(e){e&&e.length&&0==e[0].status&&setTimeout(function(){"orderExportTaskList"==this.$route.name&&this.initSearch()}.bind(this),3500)}}),components:{vSearchItem:n.a,vSearchMenu:r.a,vSearchResult:s.a}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),e._v(" "),a("div",{staticClass:"section",staticStyle:{margin:"20px 10px 0"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:e.tableList}},[a("el-table-column",{attrs:{prop:"fileName",label:"文件名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fileSize",label:"文件大小",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("filterFileSize")(t.row.fileSize)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"下载状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.mapStatus[t.row.status]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.fileUrl?a("a",{attrs:{target:"_blank",href:t.row.fileUrl}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("下载")])],1):e._e()]}}])})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",[this._v("订单下载列表")]),this._v(" "),t("span",{staticClass:"c-red c-tip"},[this._v("注：文件保存有效期为15天，请及时下载！")])])}]},d=a("VU/8")(c,u,!1,null,null,null);t.default=d.exports}});
//# sourceMappingURL=46.bd73c32891741cf88e5d.js.map