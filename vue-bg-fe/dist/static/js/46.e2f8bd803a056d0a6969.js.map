{"version":3,"sources":["webpack:///src/pages/accountManage/editBusinessInfo.vue","webpack:///./src/pages/accountManage/editBusinessInfo.vue","webpack:///./src/pages/accountManage/editBusinessInfo.vue?fdae"],"names":["computed","extends_default","Object","vuex_esm","initView","methods","_this","this","getSellerBaseInfo","then","rs","businessImgs","foodCirculationImgs","companyRegistrationImgs","_this2","i","label","_i","createTime","updateTime","remark","editBaseInfo","msg","notice","vQual","qualification","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","editBusinessInfo","editBusinessInfo_default","a","__webpack_exports__","module","exports","render","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","_l","configBaseInfo","item","_s","attrs","placeholder","size","model","value","sellerMain","key","callback","$$v","$set","expression","staticStyle","width","data","sellerContacts","configItem","align","scopedSlots","_u","fn","scope","type","row","mapSellerContactType","qualificationList","on","click","submitInfo","_e","staticRenderFns"],"mappings":"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","file":"static/js/46.e2f8bd803a056d0a6969.js","sourcesContent":["<template>\n  <div>\n    <div class=\"title\">\n      <span>完善基本信息</span>\n    </div>\n    <div class=\"section\" v-if=\"baseInfoReady\">\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>结算账户信息（所有信息必填）</span>\n        </div>\n\n        <div class=\"block-item\" v-for=\"item in configBaseInfo.sellerMain\">\n          <span class=\"section-item-sign\">{{item.label}}：</span>\n          <div class=\"inline-item\">\n            <el-input v-model=\"editBaseInfo.sellerMain[item.key]\" :placeholder=\"item.placeholder\" class=\"input-item-large\" size=\"small\"></el-input>\n          </div>\n        </div>\n\n      </div>\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>对接人信息（标*为必填信息）</span>\n        </div>\n        <div class=\"result-view mg-t\">\n          <el-table :data=\"editBaseInfo.sellerContacts\"  style=\"width: 100%\">\n            <template v-for=\"configItem in configBaseInfo.sellerContacts\">\n              <el-table-column :label=\"configItem.label\" :width=\"configItem.width\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <div v-if=\"configItem.type == 'input'\">\n                    <el-input v-model=\"scope.row[configItem.key]\" class=\"input-item-middle\" size=\"small\"></el-input>\n                  </div>\n                 <span v-else>\n                   {{mapSellerContactType[scope.row[configItem.key]]}}\n                 </span>\n                </template>\n              </el-table-column>\n            </template>\n          </el-table>\n        </div>\n      </div>\n      <div class=\"section-item\">\n        <div class=\"section-title\">\n          <span>资质信息（宽度620px，高度不限，jpg格式）</span>\n        </div>\n        <v-qual :qualificationList=\"qualificationList\"></v-qual>\n      </div>\n      <section class=\"menu-center\" >\n        <el-button size=\"small\" @click=\"submitInfo\" type=\"primary\">确认无误并提交</el-button>\n\n      </section>\n    </div>\n  </div>\n</template>\n<script>\n  import {mapState, mapActions} from 'vuex'\n  import vQual from '@/components/accountManage/qualification'\n\n  export default {\n    name:'editBusinessInfo',\n    computed:{\n      ...mapState(['sellerBaseInfo','sellerQualification'])\n    },\n    created(){\n      this.initView()\n    },\n    data:() => ({\n      editBaseInfo:{},\n      baseInfoReady:false,\n      mapSellerContactType:{\n        1:\"发货联系人\",\n        2:\"售后联系人\",\n        3:\"运营联系人\",\n        4:\"结算联系人\",\n        5:\"业务对接人\"\n      },\n      configBaseInfo:{\n        sellerMain:[\n          {\n            key:'receiveBankAccount',\n            label:'收款账号',\n            placeholder:'字数限制50字'\n          },\n          {\n            key:'receiveBank',\n            label:'开户行',\n            placeholder:'字数限制50字'\n          },\n          {\n            key:'receiveName',\n            label:'收款方名称',\n            placeholder:'字数限制50字'\n          },\n          {\n            key:'swiftCode',\n            label:'银行国际代码',\n            placeholder:'字数限制50字'\n          },\n          {\n            key:'bankAddress',\n            label:'银行地址',\n            placeholder:'字数限制50字'\n          }\n        ],\n        sellerContacts:[\n          {\n            label:'对接人类型',\n            key:'type',\n            type:'span',\n            width:''\n          },\n          {\n            label:'*姓名',\n            key:'contactName',\n            type:'input',\n            width:'170'\n          },\n          {\n            label:'*手机号',\n            key:'contactPhone',\n            type:'input',\n            width:'170'\n          },\n          {\n            label:'*QQ',\n            key:'qq',\n            type:'input',\n            width:'170'\n          },\n          {\n            label:'*邮箱',\n            key:'email',\n            type:'input',\n            width:'170'\n          },\n          {\n            label:'微信',\n            key:'weixin',\n            type:'input',\n            width:'170'\n          }\n        ],\n      },\n      qualificationList:{},\n    }),\n    methods:{\n      ...mapActions(['getSellerBaseInfo','saveSellerBaseInfo','callSetNotice','setEditWithMsg']),\n      initView(){\n        this.getSellerBaseInfo()\n          .then((rs)=>{\n            this.editBaseInfo = JSON.parse(JSON.stringify(rs))\n            this.qualificationList = [\n              {\n                key:'businessImgs',\n                list:this.editBaseInfo.businessImgs,\n                limit:1,\n                label:'营业执照（副本）',\n                success:'handleBusinessSuccess',\n                before:'beforeBusinessUpload'\n\n              },\n              {\n                key:'foodCirculationImgs',\n                list:this.editBaseInfo.foodCirculationImgs,\n                limit:1,\n                label:'食品流通许可证（副本）',\n                success:'handleFoodCirculationSuccess',\n                before:'beforeFoodCirculationUpload'\n              },\n              {\n                key:'companyRegistrationImgs',\n                list:this.editBaseInfo.companyRegistrationImgs,\n                limit:5,\n                label:'公司注册证明书',\n                success:'handleCompanyRegistrationSuccess',\n                before:'beforeCompanyRegistrationUpload'\n              }\n            ]\n            this.baseInfoReady = true;\n          })\n      },\n      submitInfo(){\n        this.editBaseInfo.businessImgs = this.sellerQualification.businessImgs\n        this.editBaseInfo.foodCirculationImgs = this.sellerQualification.foodCirculationImgs\n        this.editBaseInfo.companyRegistrationImgs = this.sellerQualification.companyRegistrationImgs\n        for(let i in this.configBaseInfo.sellerMain){\n          const _Opt = this.configBaseInfo.sellerMain[i]\n          if(!this.editBaseInfo.sellerMain[_Opt.key]){\n            this.getNotice('请填写'+_Opt.label)\n            return false\n          }\n          if(this.editBaseInfo.sellerMain[_Opt.key].length > 50){\n            this.getNotice(_Opt.label+'字数小于50字')\n            return false\n          }\n        }\n        for(let i in this.editBaseInfo.sellerContacts){\n          const _Opts = this.editBaseInfo.sellerContacts[i]\n          delete _Opts.createTime\n          delete _Opts.updateTime\n          delete _Opts.remark\n          if(!_Opts.contactName || !_Opts.contactPhone || !_Opts.qq || !_Opts.email || !_Opts.weixin){\n              this.getNotice('请完善'+this.mapSellerContactType[_Opts.type]+'必填信息')\n            return false\n          }\n        }\n//        console.log(this.editBaseInfo)\n//        this.editBaseInfo.sellerContacts = []\n//        const info = {}\n//        info.receiveBankAccount = this.editBaseInfo.sellerMain.receiveBankAccount\n//        info.receiveBank = this.editBaseInfo.sellerMain.receiveBank\n//        info.receiveName = this.editBaseInfo.sellerMain.receiveName\n//        info.swiftCode = this.editBaseInfo.sellerMain.swiftCode\n//        info.bankAddress = this.editBaseInfo.sellerMain.bankAddress\n//        this.editBaseInfo.sellerMain = info\n        this.saveSellerBaseInfo(this.editBaseInfo)\n          .then(()=>{\n            //提交成功后\n          this.setEditWithMsg(true)\n          this.$router.push({\n            path: '/operate/condition',\n          })\n        })\n      },\n      getNotice(msg){\n        const notice = {\n          isShow:true,\n          msg:msg,\n        }\n        this.callSetNotice(notice)\n      },\n    },\n    components: {\n      vQual\n    }\n  }\n</script>\n<style lang='less' rel=\"stylesheet/less\" scoped>\n  .block-item{\n    padding-bottom: 0;\n    .inline-item{\n      padding: 0;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/accountManage/editBusinessInfo.vue","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13adf8e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editBusinessInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editBusinessInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editBusinessInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13adf8e8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editBusinessInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-13adf8e8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/accountManage/editBusinessInfo.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),(_vm.baseInfoReady)?_c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"section-item\"},[_vm._m(1),_vm._v(\" \"),_vm._l((_vm.configBaseInfo.sellerMain),function(item){return _c('div',{staticClass:\"block-item\"},[_c('span',{staticClass:\"section-item-sign\"},[_vm._v(_vm._s(item.label)+\"：\")]),_vm._v(\" \"),_c('div',{staticClass:\"inline-item\"},[_c('el-input',{staticClass:\"input-item-large\",attrs:{\"placeholder\":item.placeholder,\"size\":\"small\"},model:{value:(_vm.editBaseInfo.sellerMain[item.key]),callback:function ($$v) {_vm.$set(_vm.editBaseInfo.sellerMain, item.key, $$v)},expression:\"editBaseInfo.sellerMain[item.key]\"}})],1)])})],2),_vm._v(\" \"),_c('div',{staticClass:\"section-item\"},[_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"result-view mg-t\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.editBaseInfo.sellerContacts}},[_vm._l((_vm.configBaseInfo.sellerContacts),function(configItem){return [_c('el-table-column',{attrs:{\"label\":configItem.label,\"width\":configItem.width,\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(configItem.type == 'input')?_c('div',[_c('el-input',{staticClass:\"input-item-middle\",attrs:{\"size\":\"small\"},model:{value:(scope.row[configItem.key]),callback:function ($$v) {_vm.$set(scope.row, configItem.key, $$v)},expression:\"scope.row[configItem.key]\"}})],1):_c('span',[_vm._v(\"\\n                 \"+_vm._s(_vm.mapSellerContactType[scope.row[configItem.key]])+\"\\n               \")])]}}])})]})],2)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"section-item\"},[_vm._m(3),_vm._v(\" \"),_c('v-qual',{attrs:{\"qualificationList\":_vm.qualificationList}})],1),_vm._v(\" \"),_c('section',{staticClass:\"menu-center\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.submitInfo}},[_vm._v(\"确认无误并提交\")])],1)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"完善基本信息\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"结算账户信息（所有信息必填）\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"对接人信息（标*为必填信息）\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section-title\"},[_c('span',[_vm._v(\"资质信息（宽度620px，高度不限，jpg格式）\")])])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-13adf8e8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/accountManage/editBusinessInfo.vue\n// module id = Nqmk\n// module chunks = 46"],"sourceRoot":""}