webpackJsonp([1],{"4WTo":function(t,e,r){var i=r("NWt+");t.exports=function(t,e){var r=[];return i(t,!1,r.push,r,e),r}},"5zde":function(t,e,r){r("zQR9"),r("qyJz"),t.exports=r("FeBl").Array.from},"7Doy":function(t,e,r){var i=r("EqjI"),a=r("7UMu"),s=r("dSzd")("species");t.exports=function(t){var e;return a(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!a(e.prototype)||(e=void 0),i(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},"9Bbf":function(t,e,r){"use strict";var i=r("kM2E");t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},"9C8M":function(t,e,r){"use strict";var i=r("evD5").f,a=r("Yobk"),s=r("xH/j"),n=r("+ZMJ"),o=r("2KxR"),c=r("NWt+"),u=r("vIB/"),l=r("EGZi"),d=r("bRrM"),f=r("+E39"),h=r("06OY").fastKey,p=r("LIJb"),m=f?"_s":"size",v=function(t,e){var r,i=h(e);if("F"!==i)return t._i[i];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,u){var l=t(function(t,i){o(t,l,e,"_i"),t._t=e,t._i=a(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=i&&c(i,r,t[u],t)});return s(l.prototype,{clear:function(){for(var t=p(this,e),r=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete r[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var r=p(this,e),i=v(r,t);if(i){var a=i.n,s=i.p;delete r._i[i.i],i.r=!0,s&&(s.n=a),a&&(a.p=s),r._f==i&&(r._f=a),r._l==i&&(r._l=s),r[m]--}return!!i},forEach:function(t){p(this,e);for(var r,i=n(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(i(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!v(p(this,e),t)}}),f&&i(l.prototype,"size",{get:function(){return p(this,e)[m]}}),l},def:function(t,e,r){var i,a,s=v(t,e);return s?s.v=r:(t._l=s={i:a=h(e,!0),k:e,v:r,p:i=t._l,n:void 0,r:!1},t._f||(t._f=s),i&&(i.n=s),t[m]++,"F"!==a&&(t._i[a]=s)),t},getEntry:v,setStrong:function(t,e,r){u(t,e,function(t,r){this._t=p(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?l(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,l(1))},r?"entries":"values",!r,!0),d(e)}}},ALrJ:function(t,e,r){var i=r("+ZMJ"),a=r("MU5D"),s=r("sB3e"),n=r("QRG4"),o=r("oeOm");t.exports=function(t,e){var r=1==t,c=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d,h=e||o;return function(e,o,p){for(var m,v,S=s(e),y=a(S),T=i(o,p,3),k=n(y.length),O=0,w=r?h(e,k):c?h(e,0):void 0;k>O;O++)if((f||O in y)&&(v=T(m=y[O],O,S),t))if(r)w[O]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return O;case 2:w.push(m)}else if(l)return!1;return d?-1:u||l?l:w}}},BDhv:function(t,e,r){var i=r("kM2E");i(i.P+i.R,"Set",{toJSON:r("m9gC")("Set")})},Fh3x:function(t,e){},HpRW:function(t,e,r){"use strict";var i=r("kM2E"),a=r("lOnJ"),s=r("+ZMJ"),n=r("NWt+");t.exports=function(t){i(i.S,t,{from:function(t){var e,r,i,o,c=arguments[1];return a(this),(e=void 0!==c)&&a(c),void 0==t?new this:(r=[],e?(i=0,o=s(c,arguments[2],2),n(t,!1,function(t){r.push(o(t,i++))})):n(t,!1,r.push,r),new this(r))}})}},LIJb:function(t,e,r){var i=r("EqjI");t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},"c/Tr":function(t,e,r){t.exports={default:r("5zde"),__esModule:!0}},fBQ2:function(t,e,r){"use strict";var i=r("evD5"),a=r("X8DO");t.exports=function(t,e,r){e in t?i.f(t,e,a(0,r)):t[e]=r}},ioQ5:function(t,e,r){r("HpRW")("Set")},lHA8:function(t,e,r){t.exports={default:r("pPW7"),__esModule:!0}},m9gC:function(t,e,r){var i=r("RY/4"),a=r("4WTo");t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return a(this)}}},mOzc:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("lHA8"),a=r.n(i),s=r("c/Tr"),n=r.n(s),o=r("Dd8w"),c=r.n(o),u=r("u5GG"),l=r.n(u),d=r("uYCK"),f=r("NYxO"),h={name:"orderMarketStatistics",computed:{},created:function(){this.initView()},data:function(){return{payTime:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,r=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setTime(r.getTime()-5184e5),t.$emit("pick",[r,e])}},{text:"最近半个月",onClick:function(t){var e=new Date,r=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setTime(r.getTime()-12096e5),t.$emit("pick",[r,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,r=new Date;e.setHours(23),e.setMinutes(59),e.setSeconds(59),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setTime(r.getTime()-25056e5),t.$emit("pick",[r,e])}}]},marketSearch:{label:"7",options:[{value:"7",label:"最近一周"},{value:"15",label:"最近15日"},{value:"30",label:"最近一个月"}]},searchOptions:{workOrderCreateTimeStart:"",workOrderCreateTimeEnd:""},statisticsList:{configs:{itemNum:"",width:""},items:[]},orderTrend:{title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:[]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value"}],series:[{name:"仅退款",type:"line",stack:"总量",areaStyle:{normal:{}},data:[]},{name:"退货退款",type:"line",stack:"总量",areaStyle:{normal:{}},data:[]},{name:"赔付",type:"line",stack:"总量",areaStyle:{normal:{}},data:[]},{name:"咨询",type:"line",stack:"总量",areaStyle:{normal:{}},data:[]},{name:"投诉",type:"line",stack:"总量",areaStyle:{normal:{}},data:[]},{name:"正常订单",type:"line",stack:"总量",areaStyle:{normal:{}},data:[]}]},afterSaleStatistics:{}}},methods:c()({},Object(f.b)(["getAfterSaleStatistics"]),{searchSubmit:function(){this.initView()},initView:function(){var t=this,e=this.payTime&&this.payTime[0]?this.payTime[0]:"",r=this.payTime&&this.payTime[1]?this.payTime[1]:"";if(e&&r)this.searchOptions.workOrderCreateTimeStart=Util.formatDate("yyyy-mm-dd hh:mm:ss",e),this.searchOptions.workOrderCreateTimeEnd=Util.formatDate("yyyy-mm-dd hh:mm:ss",r);else{var i=new Date,a=new Date,s=Number(this.marketSearch.label-1);i.setHours(23),i.setMinutes(59),i.setSeconds(59),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setTime(a.getTime()-864e5*s),this.payTime=[a,i],this.searchOptions.workOrderCreateTimeStart=Util.formatDate("yyyy-mm-dd hh:mm:ss",a),this.searchOptions.workOrderCreateTimeEnd=Util.formatDate("yyyy-mm-dd hh:mm:ss",i)}this.getAfterSaleStatistics(this.searchOptions).then(function(e){t.afterSaleStatistics=e,t.setViewData()})},selectTime:function(){this.initView()},getOrderTrendData:function(t,e,r){var i=[];if(!t||!t.length)return i;switch(e){case"day":t.map(function(t){i.push(t[e])});break;case"total":var a={};t.map(function(t){a[t.day]=t.total}),r.map(function(t){var e=a[t]?a[t]:0;i.push(e)})}return i},setViewData:function(){var t=this,e={configs:{itemNum:7,width:"142px",sort:"start"},items:[{label:"仅退款",val:this.afterSaleStatistics.onlyRefundTotal+0,router:"/order/market",query:{page:1,rows:20,orderNumber:"",orderStatus:"",salesChannel:"",workOrderType:"1",createTimeStart:this.searchOptions.workOrderCreateTimeStart,createTimeEnd:this.searchOptions.workOrderCreateTimeEnd}},{label:"退货退款",val:this.afterSaleStatistics.returnTotal+0,router:"/order/market",query:{page:1,rows:20,orderNumber:"",orderStatus:"",salesChannel:"",workOrderType:"2",createTimeStart:this.searchOptions.workOrderCreateTimeStart,createTimeEnd:this.searchOptions.workOrderCreateTimeEnd}},{label:"赔付",val:this.afterSaleStatistics.reparationTotal+0,router:"/order/market",query:{page:1,rows:20,orderNumber:"",orderStatus:"",salesChannel:"",workOrderType:"5",createTimeStart:this.searchOptions.workOrderCreateTimeStart,createTimeEnd:this.searchOptions.workOrderCreateTimeEnd}},{label:"咨询",val:this.afterSaleStatistics.consultTotal+0,router:"/order/market",query:{page:1,rows:20,orderNumber:"",orderStatus:"",salesChannel:"",workOrderType:"3",createTimeStart:this.searchOptions.workOrderCreateTimeStart,createTimeEnd:this.searchOptions.workOrderCreateTimeEnd}},{label:"投诉",val:this.afterSaleStatistics.complaintTotal+0,router:"/order/market",query:{page:1,rows:20,orderNumber:"",orderStatus:"",salesChannel:"",workOrderType:"4",createTimeStart:this.searchOptions.workOrderCreateTimeStart,createTimeEnd:this.searchOptions.workOrderCreateTimeEnd}},{label:"合计",val:this.afterSaleStatistics.onlyRefundTotal+this.afterSaleStatistics.returnTotal+this.afterSaleStatistics.reparationTotal+this.afterSaleStatistics.consultTotal+this.afterSaleStatistics.complaintTotal,router:"/order/market",query:{page:1,rows:20,orderNumber:"",orderStatus:"",salesChannel:"",workOrderType:"",createTimeStart:this.searchOptions.workOrderCreateTimeStart,createTimeEnd:this.searchOptions.workOrderCreateTimeEnd}},{label:"综合售后率",val:Number(this.afterSaleStatistics.afterSaleRatio)+"%"}]};this.statisticsList=e,this.orderTrend.legend.data=["仅退款","退货退款","赔付","咨询","投诉"];var r=[];["onlyRefundStatisticsList","returnStatisticsList","reparationStatisticsList","consultStatisticsList","complaintStatisticsList"].map(function(e){var i=t.getOrderTrendData(t.afterSaleStatistics[e],"day");Array.prototype.push.apply(r,i)});var i=n()(new a.a(r));i.sort(),this.orderTrend.xAxis[0].data=i,this.orderTrend.series[0].data=this.getOrderTrendData(this.afterSaleStatistics.onlyRefundStatisticsList,"total",i),this.orderTrend.series[1].data=this.getOrderTrendData(this.afterSaleStatistics.returnStatisticsList,"total",i),this.orderTrend.series[2].data=this.getOrderTrendData(this.afterSaleStatistics.reparationStatisticsList,"total",i),this.orderTrend.series[3].data=this.getOrderTrendData(this.afterSaleStatistics.consultStatisticsList,"total",i),this.orderTrend.series[4].data=this.getOrderTrendData(this.afterSaleStatistics.complaintStatisticsList,"total",i)}}),components:{vStatistics:d.a,IEcharts:l.a}},p={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t._v(" "),r("div",{staticClass:"section"},[r("div",{staticClass:"section-item"},[r("div",{staticClass:"block-item"},[r("span",[t._v("时间筛选：")]),t._v(" "),r("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions,placeholder:"选择时间范围"},on:{change:function(e){t.selectTime()}},model:{value:t.payTime,callback:function(e){t.payTime=e},expression:"payTime"}})],1)]),t._v(" "),r("v-statistics",{attrs:{statisticsList:t.statisticsList}}),t._v(" "),r("section",{staticClass:"echarts"},[r("IEcharts",{attrs:{option:t.orderTrend}})],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("售后订单统计")])])}]};var m=r("VU/8")(h,p,!1,function(t){r("Fh3x")},"data-v-8fe36d68",null);e.default=m.exports},oNmr:function(t,e,r){r("9Bbf")("Set")},oeOm:function(t,e,r){var i=r("7Doy");t.exports=function(t,e){return new(i(t))(e)}},pPW7:function(t,e,r){r("M6a0"),r("zQR9"),r("+tPU"),r("ttyz"),r("BDhv"),r("oNmr"),r("ioQ5"),t.exports=r("FeBl").Set},qo66:function(t,e,r){"use strict";var i=r("7KvD"),a=r("kM2E"),s=r("06OY"),n=r("S82l"),o=r("hJx8"),c=r("xH/j"),u=r("NWt+"),l=r("2KxR"),d=r("EqjI"),f=r("e6n0"),h=r("evD5").f,p=r("ALrJ")(0),m=r("+E39");t.exports=function(t,e,r,v,S,y){var T=i[t],k=T,O=S?"set":"add",w=k&&k.prototype,_={};return m&&"function"==typeof k&&(y||w.forEach&&!n(function(){(new k).entries().next()}))?(k=e(function(e,r){l(e,k,t,"_c"),e._c=new T,void 0!=r&&u(r,S,e[O],e)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!y||"clear"!=t)&&o(k.prototype,t,function(r,i){if(l(this,k,t),!e&&y&&!d(r))return"get"==t&&void 0;var a=this._c[t](0===r?0:r,i);return e?this:a})}),y||h(k.prototype,"size",{get:function(){return this._c.size}})):(k=v.getConstructor(e,t,S,O),c(k.prototype,r),s.NEED=!0),f(k,t),_[t]=k,a(a.G+a.W+a.F,_),y||v.setStrong(k,t,S),k}},qyJz:function(t,e,r){"use strict";var i=r("+ZMJ"),a=r("kM2E"),s=r("sB3e"),n=r("msXi"),o=r("Mhyx"),c=r("QRG4"),u=r("fBQ2"),l=r("3fs2");a(a.S+a.F*!r("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,a,d,f=s(t),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,S=0,y=l(f);if(v&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&o(y))for(r=new h(e=c(f.length));e>S;S++)u(r,S,v?m(f[S],S):f[S]);else for(d=y.call(f),r=new h;!(a=d.next()).done;S++)u(r,S,v?n(d,m,[a.value,S],!0):a.value);return r.length=S,r}})},ttyz:function(t,e,r){"use strict";var i=r("9C8M"),a=r("LIJb");t.exports=r("qo66")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(a(this,"Set"),t=0===t?0:t,t)}},i)}});
//# sourceMappingURL=1.117798ef3d2504486bd1.js.map