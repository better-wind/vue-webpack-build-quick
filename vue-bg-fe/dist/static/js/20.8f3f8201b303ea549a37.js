webpackJsonp([20],{"3sl7":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-item section-item-no-padding"},[i("div",{staticClass:"menu pd-l pd-b"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.callBatchComplaint()}}},[t._v("批量申诉")])],1),t._v(" "),i("div",{staticClass:"result-view"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中",data:t.tableList,"row-class-name":t.tableRowClassName},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center",width:"55",selectable:t.selectable}}),t._v(" "),t._l(t.currentSearch.resultItem.option,function(e,a){return["left"==e.fixed?[i("el-table-column",{attrs:{fixed:"",prop:e.key,label:e.label,width:e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[i("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:{path:"orderDetail",query:{orderNumber:a.row[e.key],source:"search"}}}},[t._v("\n                "+t._s(a.row[e.key])+"\n              ")])]}}])})]:"right"==e.fixed?["opera"==e.type?i("el-table-column",{attrs:{fixed:"right",label:e.label,width:e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.isAllowComplain?[-1==e.row.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){t.callComplaint(e.row.id,"edit")}}},[t._v("申诉")]):1==e.row.status&&0!=e.row.penaltyAmount?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){t.callComplaint(e.row.id,"edit")}}},[t._v("再次申诉")]):2==e.row.status&&1==e.row.complainCount?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){t.callComplaint(e.row.id,"edit")}}},[t._v("再次申诉")]):i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){t.callComplaint(e.row.id,"view")}}},[t._v("查看")])]:0==e.row.isAllowComplain?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(i){t.callComplaint(e.row.id,"view")}}},[t._v("查看")]):t._e()]}}])}):t._e()]:["time"==e.type?i("el-table-column",{attrs:{prop:e.key,label:e.label,width:e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[i("div",{staticClass:"time-item",staticStyle:{padding:"5px 20px"}},[t._v("\n                "+t._s(a.row[e.key])+"\n              ")])]}}])}):"status"==e.type?i("el-table-column",{attrs:{prop:e.key,label:e.label,width:e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[i("div",{staticClass:"time-item",staticStyle:{padding:"5px 20px"}},[t._v("\n                "+t._s(t.mapStatus[a.row[e.key]])+"\n              ")])]}}])}):i("el-table-column",{attrs:{prop:e.key,label:e.label,width:e.width,align:"center"}})]]})],2),t._v(" "),t.pagingShow?i("v-pagination",{attrs:{paging:t.paging}}):t._e()],1),t._v(" "),i("div",{staticClass:"dialog-view"},[i("el-dialog",{attrs:{visible:t.orderDetailDialog.isShow,size:"small"},on:{"update:visible":function(e){t.$set(t.orderDetailDialog,"isShow",e)},close:function(e){t.cancelComplaint()}}},[i("div",{staticClass:"section-title"},["batch"==t.orderDetailDialog.type?i("span",[t._v("发货超时批量申诉")]):i("span",[t._v("发货超时申诉")])]),t._v(" "),t.orderDetailDialog.viewReady?[i("div",{staticClass:"section-item"},[t._l(t.orderDetailConfig.items,function(e){return[i("div",{},[i("div",{staticClass:"section-item-sign"},[i("span",[t._v(t._s(e.label)+"：")])]),t._v(" "),"timeoutPeriod"==e.type?i("div",{staticClass:"inline-item"},[t._v("\n                "+t._s(t._f("toDate")(t.timeOutOrderDetail[e.key]))+"\n              ")]):i("div",{staticClass:"inline-item"},[t._v("\n                "+t._s(t.timeOutOrderDetail[e.key])+"\n              ")])])]})],2),t._v(" "),t._l(t.timeOutOrderDetail.complainList,function(e){return t.timeOutOrderDetail.complainList?[i("div",{staticClass:"section-item"},[i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[t._v("申诉原因：")])]),t._v(" "),i("div",{staticClass:"inline-item"},[t._v("\n                "+t._s(e.complainReason)+"\n              ")])]),t._v(" "),e.fileUrl?i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[t._v("附件：")])]),t._v(" "),i("div",{staticClass:"inline-item"},[i("a",{attrs:{href:e.fileUrl,target:"_blank"}},[t._v("查看附件")])])]):t._e(),t._v(" "),i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[t._v("申诉状态：")])]),t._v(" "),i("div",{staticClass:"inline-item"},[t._v("\n                "+t._s(t.mapStatus[e.status])+"\n              ")])]),t._v(" "),e.modifyPenaltyAmount?i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[t._v("修改后金额：")])]),t._v(" "),i("div",{staticClass:"inline-item"},[t._v("\n                "+t._s(e.modifyPenaltyAmount)+"\n              ")])]):t._e(),t._v(" "),i("div",[i("div",{staticClass:"section-item-sign"},[i("span",[t._v("处理备注：")])]),t._v(" "),i("div",{staticClass:"inline-item"},[t._v("\n                "+t._s(e.remark)+"\n              ")])])])]:t._e()})]:t._e(),t._v(" "),"edit"==t.orderDetailDialog.type||"batch"==t.orderDetailDialog.type?[i("div",{staticClass:"section-item"},[i("div",[i("div",{staticClass:"section-item-sign-wrap"},[i("div",{staticClass:"section-item-sign"},[i("span",[i("span",{staticClass:"sign-required"},[t._v("*")]),t._v("申诉原因：")])])]),t._v(" "),i("div",{staticClass:"inline-item",staticStyle:{width:"300px"}},[i("el-input",{staticClass:"area-item-large",attrs:{rows:t.textAreaRows,resize:"none",placeholder:"请输入",type:"textarea",size:"small"},model:{value:t.complaintOpt.reason,callback:function(e){t.$set(t.complaintOpt,"reason",e)},expression:"complaintOpt.reason"}})],1)]),t._v(" "),i("div",[i("div",{staticClass:"section-item-sign-wrap"},[i("div",{staticClass:"section-item-sign"},[i("span",[t._v("附件：")])])]),t._v(" "),i("div",{staticClass:"inline-item"},[i("el-upload",{ref:"imgUpload",attrs:{"show-file-list":!1,action:"/sellerAdmin/pic/upload","before-upload":t.beforeUpload}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),t.uploadFileList.isShow?i("ul",{staticClass:"el-upload-list el-upload-list--text"},[i("li",{staticClass:"el-upload-list__item is-ready"},[i("a",{staticClass:"el-upload-list__item-name"},[i("i",{staticClass:"el-icon-document"}),t._v(t._s(t.uploadFileList.name))])])]):t._e()],1)])]),t._v(" "),i("div",{staticClass:"menu",staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.submitComplaint()}}},[t._v("确定")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.cancelComplaint()}}},[t._v("取消")])],1)]:t._e()],2)],1)])},staticRenderFns:[]}},BXxU:function(t,e){},"HDx/":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),l=i.n(a),s=i("dJOE"),n=i("NOQh"),r=i("NYxO"),o=i("tKaV"),c={created:function(){this.initView()},data:function(){return{tableList:[],paging:{currentPage:1,pageSizes:[20,30,50,100],pageSize:0,total:0,query:{}},mapStatus:{"-1":"未申诉",0:"处理中",1:"申诉成功",2:"申诉失败"},pagingShow:!1,loading:!0,orderDetailDialog:{isShow:!1,type:"view",viewReady:!1},textAreaRows:4,orderDetailConfig:{items:[{label:"订单编号",key:"orderNumber"},{label:"订单实付金额",key:"orderRealPrice"},{label:"付款时间",key:"orderPayTime"},{label:"超时时间点",key:"orderExpireTime"},{label:"物流揽件时间",key:"collectLogisticsTime"},{label:"超时时间",key:"timeoutPeriod",type:"timeoutPeriod"},{label:"罚款金额",key:"penaltyAmount"}]},picUpload:{picFile:null,getSize:1},uploadFileList:{isShow:!1,name:""},complaintOpt:{file:null,reason:"",orderDeliveryExpireId:""},batchList:[],timeOutOrderDetail:{}}},computed:l()({},Object(r.mapState)(["currentSearch","currentSearchQuery"])),methods:l()({},Object(r.mapActions)(["setCurrentSearchQuery","getOrderList","getTimeOutOrderList","callSetNotice","getTimeOutOrderDetail","complainTimeOutOrder"]),{initView:function(){var t=this,e=this.$route.query;this.currentSearchOption=Util.searchQuery(e,this.currentSearch.searchList.public,this.currentSearch.searchList.private),this.setCurrentSearchQuery(this.currentSearchOption),this.pagingShow=!1,this.loading=!0,this.getTimeOutOrderList(this.currentSearchQuery).then(function(e){t.pagingShow=!0,t.setOrderList(e)})},setOrderList:function(t){this.loading=!1,this.tableList=t.rows,this.paging.pageSize=Number(this.currentSearchQuery.rows),this.paging.currentPage=Number(this.currentSearchQuery.page),this.paging.total=t.total,this.paging.query=this.currentSearchQuery},callBatchComplaint:function(){if(!this.batchList.length)return this.getNotice("请选择申诉订单"),!1;var t=[];for(var e in this.batchList)t.push(this.batchList[e].id);this.complaintOpt.orderDeliveryExpireId=t.join(","),this.orderDetailDialog.isShow=!0,this.orderDetailDialog.type="batch"},callComplaint:function(t,e){var i=this,a={orderDeliveryExpireId:t};this.getTimeOutOrderDetail(a).then(function(a){i.timeOutOrderDetail=a,i.orderDetailDialog.isShow=!0,i.orderDetailDialog.viewReady=!0,i.orderDetailDialog.type=e,"edit"==e&&(i.complaintOpt.orderDeliveryExpireId=t)})},submitComplaint:function(){var t=this;return this.complaintOpt.reason?this.complaintOpt.reason.length>50?(this.getNotice("原因字数不能超过50"),!1):void this.complainTimeOutOrder(this.complaintOpt).then(function(){t.cancelComplaint(),t.initView()}):(this.getNotice("原因不能为空"),!1)},cancelComplaint:function(){this.orderDetailDialog.isShow=!1,this.orderDetailDialog.viewReady=!1,this.orderDetailDialog.type="new",this.complaintOpt={file:null,reason:"",orderDeliveryExpireId:""},this.uploadFileList.isShow=!1,this.uploadFileList.name=""},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,i=t.size/1024<400;return e?i?(e&&i&&(this.complaintOpt.file=t,this.uploadFileList.isShow=!0,this.uploadFileList.name=t.name),!1):(this.getNotice("上传头像图片大小不能超过 400KB!"),!1):(this.getNotice("上传图片格式不正确"),!1)},tableRowClassName:function(t,e){return e%2==1?"info-row":"positive-row"},selectable:function(t,e){var i=!1;return 1==t.isAllowComplain&&(-1==t.status||1==t.status&&0!=t.penaltyAmount||2==t.status&&t.complainCount<=1)&&(i=!0),i},handleSelectionChange:function(t){this.batchList=t},getNotice:function(t){var e={isShow:!0,msg:t};this.callSetNotice(e)}}),components:{vPagination:o.a},watch:{$route:function(t,e){t.fullPath!==e.fullPath&&this.initView()}}},p=i("3sl7"),d=i.n(p);var u=function(t){i("BXxU")},h=i("VU/8")(c,d.a,!1,u,"data-v-11b31bfc",null).exports,m={name:"orderTimeOut",created:function(){this.initSearch()},data:function(){return{orderSearch:{searchList:{public:[{type:"",key:"page",intKey:1},{type:"",key:"rows",intKey:20},{type:"input",label:"订单编号",placeholder:"请输入订单编号",key:"orderNumber"},{type:"select",label:"发货地",placeholder:"请选择",key:"sellerId",options:[]},{type:"select",label:"状态",placeholder:"请选择",key:"isAllowComplain",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"0",label:"不可申诉"},{value:"1",label:"可申诉"}]},{type:"select",label:"处理结果",placeholder:"请选择",key:"status",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"-1",label:"未申诉"},{value:"0",label:"处理中"},{value:"1",label:"申诉成功"},{value:"2",label:"申诉失败"}]}],private:[{type:"input",label:"赔偿金额",placeholder:"请输入赔偿金额",key:"penaltyAmountStart",split:!0},{type:"input",label:"",placeholder:"请输入赔偿金额",key:"penaltyAmountEnd"},{type:"date-picker",label:"付款时间",placeholder:"请选择",key:"orderPayTimeStart",checkNextDate:"orderPayTimeEnd",split:!0},{type:"date-picker",label:"",placeholder:"请选择",key:"orderPayTimeEnd",checkPreDate:"orderPayTimeStart"},{type:"date-picker",label:"物流揽件时间",placeholder:"请选择",key:"collectLogisticsTimeStart",checkNextDate:"collectLogisticsTimeEnd",split:!0},{type:"date-picker",label:"",placeholder:"请选择",key:"collectLogisticsTimeEnd",checkPreDate:"collectLogisticsTimeStart"}]},searchMenu:{public:[{label:"查询",style:"primary",type:"submit"},{label:"重置",type:"reset"}]},resultItem:{type:"market",option:[{fixed:"left",label:"订单编号",key:"orderNumber",width:"180"},{label:"付款时间",key:"orderPayTime",width:"160"},{label:"超时时间点",key:"orderExpireTime",width:"160"},{label:"物流揽件时间",key:"collectLogisticsTime",width:"160"},{label:"赔偿金额（元）",key:"penaltyAmount",width:"100"},{label:"处理结果",key:"status",width:"100",type:"status"},{fixed:"right",type:"opera",label:"操作",width:"120"}],opera:{items:[{type:"complaint",label:"申诉"}]}}}}},methods:l()({},Object(r.mapActions)(["setSearch","getDeliveryArea"]),{initSearch:function(){var t=this;this.getDeliveryArea().then(function(e){t.setDeliveryListOpt(e)}),this.setSearch(this.orderSearch)},setDeliveryListOpt:function(t){var e=[];t.forEach(function(t,i){var a={label:t.sendAddress,value:t.id+""};e.push(a)}),this.orderSearch.searchList.public[3].options=e}}),components:{vSearchItem:s.a,vSearchMenu:n.a,vSearchResult:h}},v=i("QDHF"),y=i.n(v);var g=function(t){i("WEdk")},_=i("VU/8")(m,y.a,!1,g,"data-v-2addc1c7",null);e.default=_.exports},QDHF:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("div",{staticClass:"section"},[e("v-search-item"),this._v(" "),e("div",{staticClass:"market-box"},[this._m(1),this._v(" "),e("v-search-menu")],1),this._v(" "),e("v-search-result")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("超时订单列表")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"market-sign primary-color"},[e("span",[this._v("提示：")]),this._v(" "),e("p",[this._v("1、订单超时之日起（不含当日），请在7个工作日内完成第一次申诉")]),this._v(" "),e("p",[this._v("2、在平台通过系统回复未通过第一次申诉之日起（不含当日），请在7个工作日完成第二次申诉")]),this._v(" "),e("p",[this._v("3、以上如逾期未申诉的，则系统将冻结此功能，不再允许商家进行申诉")])])}]}},WEdk:function(t,e){}});
//# sourceMappingURL=20.8f3f8201b303ea549a37.js.map