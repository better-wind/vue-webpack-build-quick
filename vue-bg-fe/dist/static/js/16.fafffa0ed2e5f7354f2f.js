webpackJsonp([16],{ArWN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),r=a("uzL+"),n=a("jzsd"),l=a("NYxO"),o=a("tKaV"),c={created:function(){this.initView()},data:function(){return{tableList:[],pagingShow:!1,paging:{currentPage:1,pageSizes:[20,30,50,100],pageSize:0,total:0,query:{}},loading:!0,listConfig:[{col:6,items:[{label:"申请入仓SKU",key:"applySkuCount"},{label:"申请入仓总数",key:"applyTotalCount"},{label:"合计价值",key:"applyTotalMoney"}]},{col:6,items:[{label:"实际发货SKU",key:"sendSkuCount"},{label:"实际发货总数",key:"sendTotalCount"},{label:"合计价值",key:"sendTotalMoney"}]},{col:6,items:[{label:"真实入库SKU",key:"actualInSkuCount"},{label:"真实入库总数",key:"actualInTotalCount"},{label:"合计价值",key:"actualInTotalMoney"}]},{col:4,items:[{label:"入仓备注",key:"note"},{label:"不通过原因",key:"reason",type:"error"}]}],wareStorageModel:{isShow:!1,opts:{storage:""}},storageList:[]}},computed:i()({},Object(l.d)(["currentSearch","currentSearchQuery"])),methods:i()({},Object(l.b)(["setCurrentSearchQuery","getStorageOrderList","getStorageList","auditStorageOrder","delStorageOrder","callSetNotice"]),{initView:function(){var t=this,e=this.$route.query;this.currentSearchOption=Util.searchQuery(e,this.currentSearch.searchList.public,this.currentSearch.searchList.private),this.setCurrentSearchQuery(this.currentSearchOption),this.loading=!0,this.pagingShow=!1,this.getStorageList().then(function(e){t.storageList=e}),this.getStorageOrderList(this.currentSearchQuery).then(function(e){t.pagingShow=!0,t.setList(e)})},setList:function(t){this.tableList=t.rows,this.loading=!1,this.paging.pageSize=Number(this.currentSearchQuery.rows),this.paging.currentPage=Number(this.currentSearchQuery.page),this.paging.total=t.total,this.paging.query=this.currentSearchQuery},codeDetail:function(t){this.$router.push({path:"/manage/warehouse/detail",query:{code:t.code}})},submitAudit:function(t){var e=this;this.$confirm("是否确认提交入仓申请？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){e.callAuditStorageOrder({code:t})}).catch(function(){})},callAuditStorageOrder:function(t){var e=this;this.auditStorageOrder(t).then(function(){e.getToast("提交成功"),e.initView()})},delOrder:function(t){var e=this;this.$confirm("是否确认删除？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(function(){e.callDelStorageOrder({code:t})}).catch(function(){})},callDelStorageOrder:function(t){var e=this;this.delStorageOrder(t).then(function(){e.getToast("删除成功"),e.initView()})},getToast:function(t){var e={isShow:!0,msg:t};this.callSetNotice(e)}}),components:{vPagination:o.a},watch:{$route:function(t,e){t.fullPath!==e.fullPath&&this.initView()}}},u=a("aJaZ"),d=a.n(u);var h=function(t){a("Qx61")},p=a("VU/8")(c,d.a,!1,h,"data-v-68a169da",null).exports,g={name:"",created:function(){this.initView()},computed:i()({},Object(l.d)(["currentSearch"])),data:function(){return{searchPage:{searchList:{public:[{type:"",key:"page",intKey:1},{type:"",key:"rows",intKey:20},{type:"input",label:"入仓单编号",placeholder:"请输入内容",key:"code"},{type:"select",label:"入仓单状态",placeholder:"请选择",key:"status",selectType:"selectAll",options:[{value:"all",label:"全部"},{value:"0",label:"新建"},{value:"1",label:"待审核"},{value:"2",label:"审核通过待发货"},{value:"3",label:"审核不通过"},{value:"4",label:"待入库"},{value:"5",label:"已入库"},{value:"6",label:"完结"}]},{type:"input",label:"商品条码",placeholder:"请输入内容",key:"deliveryCode"},{type:"input",label:"商品名称",placeholder:"请输入内容",key:"skuName"}]},searchMenu:{public:[{label:"查询",style:"primary",type:"submit"},{label:"重置",type:"reset"}]}}}},methods:i()({},Object(l.b)(["setSearch"]),{initView:function(){this.setSearch(this.searchPage)}}),components:{vSearchItem:r.a,vSearchMenu:n.a,vSearchResult:p}},v=a("fB7r"),m=a.n(v);var b=function(t){a("HPmF")},y=a("VU/8")(g,m.a,!1,b,null,null);e.default=y.exports},HPmF:function(t,e){},Qx61:function(t,e){},aJaZ:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section-item section-item-no-padding ware-box"},[a("div",{staticClass:"menu pd-l pd-b"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.wareStorageModel.isShow=!0}}},[t._v("创建入仓单")])],1),t._v(" "),a("div",{staticClass:"section-item"},[t.tableList.length?t._e():a("div",{staticClass:"ware-item",staticStyle:{"line-height":"60px","text-align":"center"}},[t._v("\n      暂无数据\n    ")]),t._v(" "),t._l(t.tableList,function(e){return[a("div",{staticClass:"ware-item"},[a("div",{staticClass:"ware-header"},[a("span",[t._v("入仓单编号："+t._s(e.code))]),t._v(" "),a("span",[t._v("状态："+t._s(e.statusDesc))]),t._v(" "),a("span",[t._v("入库仓库："+t._s(e.storageName))]),t._v(" "),a("span",[t._v(" 报价币种："+t._s(e.currencyDesc))])]),t._v(" "),a("div",{staticClass:"ware-msg-position"},[a("div",{staticClass:"ware-msg"},[a("div",{staticClass:"ware-msg-warp"},[t._l(t.listConfig,function(s){return[a("div",{staticClass:"ware-msg-item"},[a("div",{staticClass:"ware-col-item"},t._l(s.items,function(s){return a("p",["error"==s.type?[3==e.status?[a("span",{staticClass:"c-red"},[t._v(t._s(s.label)+":")]),t._v(" "),a("span",{staticClass:"c-red"},[t._v(t._s(e[s.key]?e[s.key]:"--"))])]:t._e()]:[a("span",[t._v(t._s(s.label)+":")]),t._v(" "),a("span",[t._v(t._s(e[s.key]?e[s.key]:"--"))])]],2)}))])]})],2)]),t._v(" "),a("div",{staticClass:"ware-msg-menu-item"},[0==e.status||3==e.status?a("div",{staticClass:"menu menu-list"},[a("p",[a("a",{attrs:{href:"/#/manage/warehouse/detail?code="+e.code,target:"_blank"}},[a("el-button",{staticClass:"menu-btn",attrs:{size:"small",type:"primary"}},[t._v("编辑商品")])],1)]),t._v(" "),a("p",[a("el-button",{staticClass:"menu-btn",attrs:{size:"small"},on:{click:function(a){t.submitAudit(e.code)}}},[t._v("提交审核")])],1),t._v(" "),a("p",[a("el-button",{staticClass:"menu-btn",attrs:{size:"small"},on:{click:function(a){t.delOrder(e.code)}}},[t._v("删除")])],1)]):1==e.status||4==e.status||6==e.status?a("div",{staticClass:"menu"},[a("p",[a("a",{attrs:{href:"/#/manage/warehouse/detail?code="+e.code,target:"_blank"}},[a("el-button",{staticClass:"menu-btn",attrs:{size:"small",type:"primary"}},[t._v("查看明细")])],1)])]):2==e.status?a("div",{staticClass:"menu"},[a("p",[a("a",{attrs:{href:"/#/manage/warehouse/detail?code="+e.code,target:"_blank"}},[a("el-button",{staticClass:"menu-btn",attrs:{size:"small",type:"primary"}},[t._v("发货")])],1)])]):5==e.status?a("div",{staticClass:"menu"},[a("p",[a("a",{attrs:{href:"/#/manage/warehouse/detail?code="+e.code,target:"_blank"}},[a("el-button",{staticClass:"menu-btn",attrs:{size:"small",type:"primary"}},[t._v("确认入仓")])],1)])]):t._e()])])])]}),t._v(" "),t.pagingShow?a("v-pagination",{attrs:{paging:t.paging}}):t._e()],2),t._v(" "),a("el-dialog",{attrs:{visible:t.wareStorageModel.isShow,title:"请选择入仓仓库"},on:{"update:visible":function(e){t.$set(t.wareStorageModel,"isShow",e)}}},[a("div",{staticClass:"section-item"},[a("div",{staticClass:"block-item"},[a("span",{staticClass:"sign"},[t._v("入仓仓库：")]),t._v(" "),a("el-select",{staticClass:"input-item-middle",attrs:{size:"small",placeholder:"请选择入仓仓库"},model:{value:t.wareStorageModel.opts.storage,callback:function(e){t.$set(t.wareStorageModel.opts,"storage",e)},expression:"wareStorageModel.opts.storage"}},[t._l(t.storageList,function(t){return[a("el-option",{attrs:{label:t.name,value:t.code}})]})],2)],1)]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.wareStorageModel.opts.storage?a("a",{attrs:{href:"/#/manage/warehouse/detail?storageId="+t.wareStorageModel.opts.storage,target:"_blank"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.wareStorageModel.isShow=!1}}},[t._v("确认")])],1):a("el-button",{attrs:{type:"primary",size:"small",disabled:""}},[t._v("确认")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.wareStorageModel.isShow=!1}}},[t._v("取消")])],1)])],1)},staticRenderFns:[]}},fB7r:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("div",{staticClass:"section search-ware-box"},[e("v-search-item"),this._v(" "),e("v-search-menu"),this._v(" "),e("v-search-result")],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("入仓单管理")])])}]}}});
//# sourceMappingURL=16.fafffa0ed2e5f7354f2f.js.map