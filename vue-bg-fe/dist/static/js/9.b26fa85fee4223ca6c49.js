webpackJsonp([9],{"9bBU":function(t,e,i){i("mClu");var s=i("FeBl").Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},"9gWN":function(t,e){},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},bOdI:function(t,e,i){"use strict";e.__esModule=!0;var s,a=i("C4MV"),n=(s=a)&&s.__esModule?s:{default:s};e.default=function(t,e,i){return e in t?(0,n.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},f9tJ:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("div",{staticClass:"section"},[t._m(1),t._v(" "),i("div",{staticClass:"section-item pd-r",staticStyle:{"text-align":"right"}},[t.newGoods?i("router-link",{attrs:{tag:"span",to:"/product/weight/sale"}},[i("el-button",{attrs:{type:"primary"}},[t._v("设置商品毛重")])],1):i("router-link",{attrs:{tag:"span",to:"/product/weight"}},[i("el-button",{attrs:{type:"primary"}},[t._v("设置商品毛重")])],1)],1),t._v(" "),i("div",{staticClass:"section-item"},t._l(t.freightTempList,function(e,s){return i("div",{staticClass:"temp-item"},[i("div",{staticClass:"temp-title o-h"},[i("span",[t._v("发货地："+t._s(e.sendAddress))]),t._v(" "),i("div",{staticClass:"fl-r"},[2!=e.auditStatus&&e.auditStatus?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){t.callGetTempDetail(e)}}},[t._v("查看")]):i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){t.toDetailTemp(e.sellerId)}}},[t._v("修改")])],1)]),t._v(" "),i("div",{staticClass:"temp-msg pd-l"},[2==e.freightSubmitType?i("p",[i("span",[t._v("运费模版名称：")]),t._v("【"+t._s(e.name?e.name:e.sendAddress+"运费模板")+"】")]):t._e(),t._v(" "),i("p",[i("span",[t._v("运费模版类型：")]),t._v(t._s(t.mapFreightSubmitType[e.freightSubmitType]))]),t._v(" "),1==e.freightSubmitType?i("p",[i("span",[t._v("每订单运费：")]),t._v(t._s(e.freight)+"元／单")]):t._e()]),t._v(" "),2==e.freightSubmitType?i("div",{staticClass:"result-view"},[i("v-temp-table",{attrs:{expressList:e.expressList,areaPriceKey:"areaPriceList"}})],1):t._e()])}))]),t._v(" "),i("el-dialog",{attrs:{visible:t.tempDetail.isShow,size:"large"},on:{"update:visible":function(e){t.$set(t.tempDetail,"isShow",e)}}},[i("div",{staticClass:"dialog-view"},[i("div",{staticClass:"section-item"},[i("div",{staticClass:"temp-item"},[i("div",{staticClass:"temp-msg"},[i("p",[i("span",[t._v("状态：")]),t._v(t._s(t.mapStatus[t.tempItem.status]))]),t._v(" "),i("p",[i("span",[t._v("发货地：")]),t._v(t._s(t.tempItemDetail.sendAddress))]),t._v(" "),2==t.tempItem.freightSubmitTypeNew?i("p",[i("span",[t._v("运费模版名称：")]),t._v("【"+t._s(t.tempItem.templateName)+"】")]):t._e(),t._v(" "),i("p",[i("span",[t._v("调整原因：")]),t._v(t._s(t.tempItem.reason))]),t._v(" "),i("p",[i("span",[t._v("申请更改的运费模版：")]),1==t.tempItem.freightSubmitTypeNew?[t._v("每订单运费："+t._s(t.tempItem.freightNew)+"元／单")]:t._e()],2)]),t._v(" "),2==t.tempItem.freightSubmitTypeNew?i("div",{staticClass:"result-view"},[i("v-temp-table",{attrs:{expressList:t.tempItem.templateExpressList,areaPriceKey:"templateAreaPriceList"}})],1):t._e()])]),t._v(" "),i("div",{staticClass:"menu",staticStyle:{"text-align":"right"}},[1==t.tempItem.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.cancelAudit(t.tempItem.sellerId,t.tempItem.id)}}},[t._v("撤销审核")]):3==t.tempItem.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.againAudit(t.tempItem.sellerId)}}},[t._v("重新审核")]):4==t.tempItem.status?i("el-button",{attrs:{disabled:!0,type:"primary",size:"small"}},[t._v("待生效")]):t._e(),t._v(" "),i("el-button",{attrs:{size:"small"},on:{click:t.cancelView}},[t._v("取消")])],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("运费模板管理")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-item"},[e("p",{staticClass:"pd-r"},[this._v("\n        运费模版即运费结算的计算规则，包含每订单运费和按重量计价的两种计算规则；"),e("br"),this._v(" "),e("span",{staticClass:"pd-l"},[this._v("1.每订单运费为单笔订单（不计订单内商品数量、重量）按固定金额结算运费成本；")]),e("br"),this._v(" "),e("span",{staticClass:"pd-l"},[this._v("2.按重量计价则根据订单内包含的商品重量、包裹收货地区、发货物流方式计算运费成本，因此按重量计价需要先完善所有商品的毛重信息！")]),e("br"),e("br"),this._v("\n        注意：运费结算类型默认为每订单运费，您若想使用按重量计价方式结算运费成本，请先通过右侧“批量设置商品毛重”入口设置商品毛重，待审核通过后，所有商品均具备毛重信息后，方能使用按重量计价的运费模版！\n      ")])])}]}},k2Qb:function(t,e){},"kl+V":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),n=i("mvHQ"),r=i.n(n),l=i("bOdI"),p=i.n(l),c=i("NYxO"),o={computed:a()({},Object(c.mapState)(["logisticsChannel","allCity"])),props:["expressList","areaPriceKey"],created:function(){this.initView()},data:function(){return{configTable:[{label:"物流方式",type:"single",key:"expressId",width:"180"},p()({label:"省份地区",type:"",key:"provinceCodes",width:""},"type","map"),{label:"首重（克）",type:"",key:"firstWeight",width:"120"},{label:"首重金额（元）",type:"",key:"firstWeightPrice",width:"120"},{label:" 续重（克）",type:"",key:"continueWeight",width:"120"},{label:" 续重金额（元）",type:"",key:"continueWeightPrice",width:"120"}],mapExpressId:{},mapProvince:{},mapExpressReady:!1,mapProvinceReady:!1}},methods:a()({},Object(c.mapActions)(["getLogisticsChannel","getAllCity"]),{initView:function(){var t=this;this.logisticsChannel.length?this.setMapExpressId():this.getLogisticsChannel().then(function(){t.setMapExpressId()}),!localStorage.getItem("allCityStorage")||localStorage.getItem("allCityStorage").length<1e4?this.getAllCity().then(function(){localStorage.setItem("allCityStorage",r()(t.allCity.data)),t.setMapProvince()}):this.setMapProvince()},setMapExpressId:function(){var t=this;this.logisticsChannel.forEach(function(e,i){t.mapExpressId[e.code]=e.desc}),this.mapExpressReady=!0},setMapProvince:function(){var t=this;JSON.parse(localStorage.getItem("allCityStorage")).provinceList.forEach(function(e,i){t.mapProvince[e.provinceId]=e.name}),this.mapProvinceReady=!0}})},m=i("p7js"),u=i.n(m);var d=function(t){i("9gWN")},v=i("VU/8")(o,u.a,!1,d,"data-v-01958374",null).exports,h={created:function(){this.initView()},computed:a()({},Object(c.mapState)(["newGoods"])),data:function(){return{mapFreightSubmitType:{1:"每订单运费",2:"按重量、配送区域计价"},mapAuditStatus:{1:"待审核",2:"审核通过",3:"审核不通过"},tempDetail:{isShow:!1},tempItemDetail:{},tempItem:{},mapStatus:{1:"待审核",2:"审核通过",3:"审核不通过"},freightTempList:[]}},methods:a()({},Object(c.mapActions)(["getFreightTempList","getFreightAudit","cancelFreightAudit"]),{initView:function(){var t=this;this.getFreightTempList().then(function(e){t.setList(e)})},setList:function(t){this.freightTempList=t},callGetTempDetail:function(t){var e=this,i={shipAddress:t.sellerId};this.tempItemDetail={name:t.name,sendAddress:t.sendAddress},this.getFreightAudit(i).then(function(t){e.tempItem=t,e.tempDetail.isShow=!0})},cancelView:function(){this.tempDetail.isShow=!1,this.tempItem={}},cancelAudit:function(t,e){var i=this,s={shipAddress:t,auditItemId:e};this.$confirm("撤销审核状态将变为审核不通过","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){i.cancelFreightAudit(s).then(function(){i.cancelView()})}).catch(function(){})},againAudit:function(t){this.cancelView(),this.toDetailTemp(t)},toDetailTemp:function(t){this.$router.push({path:"/edit/freight",query:{shipAddress:t}})}}),components:{vTempTable:v}},f=i("f9tJ"),_=i.n(f);var g=function(t){i("k2Qb")},y=i("VU/8")(h,_.a,!1,g,"data-v-13df849f",null);e.default=y.exports},mClu:function(t,e,i){var s=i("kM2E");s(s.S+s.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},p7js:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.mapProvinceReady&&t.mapExpressReady?i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.expressList,border:""}},[t._l(t.configTable,function(e){return["single"==e.type?i("el-table-column",{attrs:{prop:e.key,label:e.label,width:e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v("\n        "+t._s(t.mapExpressId[s.row[e.key]])+" "),1==s.row.defaultTag?i("span",[t._v("(默认)")]):t._e()]}}])}):i("el-table-column",{attrs:{label:e.label,width:e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(s){return[i("div",{staticClass:"line-wrap"},t._l(s.row[t.areaPriceKey],function(s){return i("div",{staticClass:"line",staticStyle:{padding:"0 10px"}},["map"==e.type?[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:s[e.key].split(",").map(function(e){return t.mapProvince[e]}).join(","),placement:"top"}},[i("p",{staticStyle:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},t._l(s[e.key].split(","),function(e){return i("span",[t._v("\n                 "+t._s(t.mapProvince[e])+"\n               ")])}))])]:[t._v("\n              "+t._s(s[e.key])+"\n            ")]],2)}))]}}])})]})],2):t._e()},staticRenderFns:[]}}});
//# sourceMappingURL=9.b26fa85fee4223ca6c49.js.map